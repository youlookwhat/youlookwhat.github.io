<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jing Bin&#39;blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jingbin.me/"/>
  <updated>2016-12-03T14:50:05.000Z</updated>
  <id>http://jingbin.me/</id>
  
  <author>
    <name>è‚–å­ç†</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å¼€å‘ä¸­æ‰€é‡é—®é¢˜å½’çº³ï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
    <link href="http://jingbin.me/2017/11/23/%E5%BC%80%E5%8F%91%E4%B8%AD%E6%89%80%E9%81%87%E9%97%AE%E9%A2%98%E5%BD%92%E7%BA%B3/"/>
    <id>http://jingbin.me/2017/11/23/å¼€å‘ä¸­æ‰€é‡é—®é¢˜å½’çº³/</id>
    <published>2017-11-23T14:36:23.000Z</published>
    <updated>2016-12-03T14:50:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="databinding"><a href="#databinding" class="headerlink" title="databinding"></a>databinding</h2><ul>
<li><p><code>layout</code>èŠ‚ç‚¹å†™äº†<code>xmlns:android=&quot;http://schemas.android.com/apk/res/android</code>åï¼Œå­å¸ƒå±€ä¸èƒ½å†™</p>
</li>
<li><p><code>include</code>å­å¸ƒå±€æ—¶å­å¸ƒå±€æ ¹èŠ‚ç‚¹ä¹Ÿè¦å£°æ˜idï¼Œä¸ç„¶å¼•ç”¨ä¸åˆ°å­å¸ƒå±€id</p>
</li>
<li><p><code>databinding</code>ç»‘å®šå­å¸ƒå±€ï¼Œå…ˆç»‘å®šåçˆ¶å¸ƒå±€å†<code>addView()</code></p>
</li>
<li><p>æ³¨å…¥<code>databinding</code>åï¼ŒAndriodStudioåŒ…ç»“æ„å˜ä¹±ã€‚è§£å†³ï¼šAndroid Studio2.2ä¼šå‡ºç°æ­¤æƒ…å†µï¼Œå‡çº§åˆ°2.2.2å°±å¯ä»¥äº†ã€‚</p>
</li>
<li><p><code>databinding</code>ç»‘å®š<code>bean</code>æ—¶ï¼Œé‡Œé¢çš„å­ç±»ä¹Ÿéœ€è¦ç»§æ‰¿<code>BaseObservable</code>,å¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
</li>
<li><p><code>recyclerview</code>çš„<code>viewhodler</code>é‡Œï¼Œè·å¾—ç»‘å®š<code>view</code>çš„<code>databinding</code>:<code>DataBindingUtil.getBinding(this.itemView);</code>ã€‚</p>
</li>
<li><p>å¸ƒå±€é‡Œæ²¡æœ‰å£°æ˜<code>id</code>,åˆ™<code>ItemEverydayBinding</code>æ— æ³•ç”Ÿæˆã€‚</p>
</li>
</ul>
<ol>
<li><p>æ–‡ä»¶é‡Œå¼•ç”¨bean:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;variable</div><div class="line">       name=<span class="string">"subjectsBean"</span></div><div class="line">	    type=<span class="string">"com.example.jingbin.bean.moviechild.SubjectsBean"</span> /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>æ–‡ä»¶é‡Œè°ƒç”¨é™æ€æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="keyword">import</span> type=<span class="string">"com.example.yunyue.utils.StringFormatUtil"</span>/&gt;</div><div class="line"><span class="comment">// å¸ƒå±€è°ƒç”¨</span></div><div class="line">android:text=<span class="string">"@&#123;StringFormatUtil.formatName(subjectsBean.directors)&#125;"</span></div></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²å’Œé™æ€æ–¹æ³•æ‹¼æ¥(æ³¨æ„å¤–å±‚å¼•å·çš„åŒºåˆ«ï¼Œé‡Œé¢æ²¡æœ‰å­—ç¬¦ä¸²æ—¶ä»»æ„éƒ½è¡Œï¼Œæœ‰åˆ™ä½¿ç”¨å•å¼•å·)ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android:text=<span class="string">'@&#123;"ç±»å‹ï¼š"+StringFormatUtil.formatGenres(subjectsBean.genres)&#125;'</span></div></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨<code>@BindingAdapter()</code>ï¼Œè‡ªå®šä¹‰loaderç”¨æ¥å¼‚æ­¥è½½å…¥å›¾åƒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">// ä»»æ„ç±»é‡Œå£°æ˜</span></div><div class="line"> <span class="meta">@BindingAdapter</span>(<span class="string">"android:showImgBg"</span>)</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showImgBg</span><span class="params">(ImageView imageView,String url)</span> </span>&#123;</div><div class="line">        displayGaussian(imageView.getContext(),url,imageView);</div><div class="line">    &#125;</div><div class="line"><span class="comment">// å¸ƒå±€è°ƒç”¨</span></div><div class="line">android:showImgBg=<span class="string">'@&#123;subjectsBean.images.large&#125;'</span></div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li><strong>1.</strong> æ–¹æ³•å‚æ•°ç¬¬ä¸€ä¸ªæ˜¯æ§ä»¶å£°æ˜,æ”¾åœ¨ç¬¬äºŒä½ä¸å¯ä»¥ï¼</li>
<li><strong>2.</strong> å¸ƒå±€è°ƒç”¨æ—¶ï¼Œå‘½åç©ºé—´å¯è‡ªåŠ¨ç”Ÿæˆã€‚</li>
</ul>
<p>å»ºè®®ï¼š</p>
<ul>
<li><strong>1.</strong> <code>android:showImgBg</code>å¯ä»»æ„å†™ï¼Œä½†æ˜¯é¡¹ç›®é‡Œä¸èƒ½å‡ºç°ç›¸åŒçš„å‘½åï¼Œå¦åˆ™ä¼šè¢«åæ¥çš„è¦†ç›–æ‰ï¼</li>
<li><strong>2.</strong> å¦‚æœ<code>imgload:showImgBg</code>è¿™æ ·å†™,ç¬¬ä¸€æ¬¡ç¼–è¯‘ä¼šæç¤ºæ‰¾ä¸åˆ°è¯¥å‘½åç©ºé—´ï¼Œè·³åˆ°å£°æ˜å¤„ã€‚å»ºè®®å†™æˆ<code>android:showImgBg</code>ã€‚</li>
</ul>
</blockquote>
</li>
</ol>
<a id="more"></a>
<h2 id="RecyclerView"><a href="#RecyclerView" class="headerlink" title="RecyclerView"></a>RecyclerView</h2><ul>
<li><p>âœ”ï¸ <code>NestedScrollView</code>é‡ŒåµŒå¥—<code>RecyclerView</code>å®˜æ–¹åæœŸå·²ç»è§£å†³äº†æ˜¾ç¤ºä¸å…¨é—®é¢˜ï¼çœ‹å¼•ç”¨çš„åŒ…æ˜¯ä»€ä¹ˆç‰ˆæœ¬çš„ï¼è¿˜éœ€è¦åŠ ä¸Šè¿™ä¸¤è¡Œä»£ç ï¼š(<strong>è¿™æ ·ä¸æ¨èï¼Œä¼šæŠŠå†…å®¹å…¨éƒ¨ä¸€æ¬¡æ€§çš„åŠ è½½è¿›å†…å­˜ï¼Œé€ æˆå¡é¡¿</strong>)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">recyclerView.setNestedScrollingEnabled(<span class="keyword">false</span>);</div><div class="line">recyclerView.setHasFixedSize(<span class="keyword">false</span>);</div></pre></td></tr></table></figure>
</li>
<li><p>âŒ  <code>NestedScrollView</code>é‡ŒåµŒå¥—<code>RecyclerView</code>,åœ¨<code>recyclerView.setLayoutManager(new FullyLinearLayoutManager(getActivity()));</code>ä¹‹åï¼Œéœ€è¦åŠ ä¸Š,ä¸ç„¶æ»‘åŠ¨ä¸æµç•…: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">recyclerView.setNestedScrollingEnabled(<span class="keyword">false</span>);</div><div class="line">recyclerView.setHasFixedSize(<span class="keyword">false</span>);</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šåˆ‡æ¢è¿˜æ˜¯ä¼šå¡é¡¿ï¼ŒåŸå› æ˜¯è§’æ ‡è¶Šç•Œï¼Œè™½ç„¶<code>try</code>äº†ï¼Œè¿˜æ˜¯ä¼šå¡ã€‚ä½¿ç”¨<code>MyScrollView</code>ä¹Ÿä¸å¯ä»¥ã€‚æ˜¾ç¤ºä¸å…¨ï¼<a href="http://blog.csdn.net/fangchao3652/article/details/46914987" target="_blank" rel="external">FullyLinearLayoutManager&amp; MyScrollView</a></p>
</li>
<li><code>RecyclerView</code>çš„itemæ˜¾ç¤ºå‡ºç°æ§ä»¶æ˜¾ç¤ºä¸å…¨,itemåªæ˜¾ç¤ºä¸€éƒ¨åˆ†ï¼Œéå¸¸æ€ªå¼‚ï¼åœ¨adapterä¸­çš„<code>onCreateViewHolder()</code>ä¸­<br><code>View inflate = layoutInflater.inflate(R.layout.xxx, parent, false);</code>æ³¨æ„è¦ä¾é™„äºparentã€‚è¿™æ ·å°±å¥½äº†ï¼</li>
</ul>
<ul>
<li><code>RecyclerView: No adapter attached; skipping layout</code>æ²¡æœ‰æ•°æ®æ—¶ï¼Œ<code>gone</code>æ‰ï¼Œä¸ç„¶ä¸€ç›´ä¼šæç¤ºè¿™ä¸ªï¼</li>
</ul>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul>
<li>å…¼å®¹5.0ä»¥ä¸‹æ°´æ³¢çº¹æ•ˆæœï¼šæ–°å»ºdrawable-21æ–‡ä»¶ï¼Œé‡Œé¢æ”¾rippleæ–‡ä»¶ï¼Œå…¶ä»–æ­£å¸¸ï¼Œ<a href="http://blog.csdn.net/u012156512/article/details/50585193" target="_blank" rel="external">è¯¦æƒ…</a>ã€‚</li>
<li><code>listview</code>æŸå›¾æ ‡æ˜¾ç¤ºäº®æˆ–ä¸äº®çš„é—®é¢˜ï¼šå…ˆå…¨éƒ¨ä¸äº®ï¼Œå†æ ¹æ®æ¡ä»¶å˜äº®ã€‚</li>
<li>å½“ScrollViewé‡Œçš„å…ƒç´ æƒ³å¡«æ»¡ScrollViewæ—¶ï¼Œä½¿ç”¨<code>fill_parent</code>æ˜¯ä¸ç®¡ç”¨çš„ï¼Œå¿…éœ€ä¸ºScrollViewè®¾ç½®ï¼š<code>android:fillViewport=&quot;true&quot;</code>ã€‚</li>
<li>çˆ¶å¸ƒå±€ä½¿ç”¨<code>fragment</code>æˆ–<code>scrollview</code>ä¸‹æ‹‰ä¼šæœ‰é˜´å½±æ•ˆæœã€‚</li>
<li>ä½¿<code>TextView</code>å®ç°é•¿æŒ‰å¤åˆ¶æ–‡æœ¬çš„åŠŸèƒ½ï¼ŒåŠ ä¸Šå±æ€§ï¼š<code>android:textIsSelectable=&quot;true&quot;</code></li>
<li><code>viewpager</code>å·¦å³é¢„åŠ è½½é¡µé¢çš„ä¸ªæ•°è®¾ç½®ï¼š<code>setOffscreenPageLimit(3);</code>,è®¾ç½®åä¿è¯é¡µé¢ä¸è¢«é”€æ¯ï¼Œåˆ‡æ¢æ—¶å°±ä¸ä¼šå¡é¡¿äº†ã€‚æ³¨æ„ï¼Œå¦‚æœæ˜¯è¿™ä¸ªviewpageræœ¬èº«å°±åœ¨çˆ¶ä¸€ä¸ªviewpagerçš„ä¸€ä¸ªé¡µé¢é‡Œï¼Œåˆ™è®¾ç½®adapteræ—¶ï¼Œåº”ä¼ <code>getChildFragmentManager()</code>,ä¸ç„¶ä»¥ä¸Šä¼šè®¾ç½®ä¸ä¸Šï¼Œéæ³•çŠ¶æ€å¼‚å¸¸ï¼</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;databinding&quot;&gt;&lt;a href=&quot;#databinding&quot; class=&quot;headerlink&quot; title=&quot;databinding&quot;&gt;&lt;/a&gt;databinding&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;layout&lt;/code&gt;èŠ‚ç‚¹å†™äº†&lt;code&gt;xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&lt;/code&gt;åï¼Œå­å¸ƒå±€ä¸èƒ½å†™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;include&lt;/code&gt;å­å¸ƒå±€æ—¶å­å¸ƒå±€æ ¹èŠ‚ç‚¹ä¹Ÿè¦å£°æ˜idï¼Œä¸ç„¶å¼•ç”¨ä¸åˆ°å­å¸ƒå±€id&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;databinding&lt;/code&gt;ç»‘å®šå­å¸ƒå±€ï¼Œå…ˆç»‘å®šåçˆ¶å¸ƒå±€å†&lt;code&gt;addView()&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ³¨å…¥&lt;code&gt;databinding&lt;/code&gt;åï¼ŒAndriodStudioåŒ…ç»“æ„å˜ä¹±ã€‚è§£å†³ï¼šAndroid Studio2.2ä¼šå‡ºç°æ­¤æƒ…å†µï¼Œå‡çº§åˆ°2.2.2å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;databinding&lt;/code&gt;ç»‘å®š&lt;code&gt;bean&lt;/code&gt;æ—¶ï¼Œé‡Œé¢çš„å­ç±»ä¹Ÿéœ€è¦ç»§æ‰¿&lt;code&gt;BaseObservable&lt;/code&gt;,å¦åˆ™ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;recyclerview&lt;/code&gt;çš„&lt;code&gt;viewhodler&lt;/code&gt;é‡Œï¼Œè·å¾—ç»‘å®š&lt;code&gt;view&lt;/code&gt;çš„&lt;code&gt;databinding&lt;/code&gt;:&lt;code&gt;DataBindingUtil.getBinding(this.itemView);&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¸ƒå±€é‡Œæ²¡æœ‰å£°æ˜&lt;code&gt;id&lt;/code&gt;,åˆ™&lt;code&gt;ItemEverydayBinding&lt;/code&gt;æ— æ³•ç”Ÿæˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ–‡ä»¶é‡Œå¼•ç”¨bean:&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;variable&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       name=&lt;span class=&quot;string&quot;&gt;&quot;subjectsBean&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	    type=&lt;span class=&quot;string&quot;&gt;&quot;com.example.jingbin.bean.moviechild.SubjectsBean&quot;&lt;/span&gt; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ–‡ä»¶é‡Œè°ƒç”¨é™æ€æ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; type=&lt;span class=&quot;string&quot;&gt;&quot;com.example.yunyue.utils.StringFormatUtil&quot;&lt;/span&gt;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¸ƒå±€è°ƒç”¨&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:text=&lt;span class=&quot;string&quot;&gt;&quot;@&amp;#123;StringFormatUtil.formatName(subjectsBean.directors)&amp;#125;&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å­—ç¬¦ä¸²å’Œé™æ€æ–¹æ³•æ‹¼æ¥(æ³¨æ„å¤–å±‚å¼•å·çš„åŒºåˆ«ï¼Œé‡Œé¢æ²¡æœ‰å­—ç¬¦ä¸²æ—¶ä»»æ„éƒ½è¡Œï¼Œæœ‰åˆ™ä½¿ç”¨å•å¼•å·)ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;android:text=&lt;span class=&quot;string&quot;&gt;&#39;@&amp;#123;&quot;ç±»å‹ï¼š&quot;+StringFormatUtil.formatGenres(subjectsBean.genres)&amp;#125;&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä½¿ç”¨&lt;code&gt;@BindingAdapter()&lt;/code&gt;ï¼Œè‡ªå®šä¹‰loaderç”¨æ¥å¼‚æ­¥è½½å…¥å›¾åƒï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;comment&quot;&gt;// ä»»æ„ç±»é‡Œå£°æ˜&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;meta&quot;&gt;@BindingAdapter&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;android:showImgBg&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;showImgBg&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ImageView imageView,String url)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        displayGaussian(imageView.getContext(),url,imageView);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¸ƒå±€è°ƒç”¨&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:showImgBg=&lt;span class=&quot;string&quot;&gt;&#39;@&amp;#123;subjectsBean.images.large&amp;#125;&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;1.&lt;/strong&gt; æ–¹æ³•å‚æ•°ç¬¬ä¸€ä¸ªæ˜¯æ§ä»¶å£°æ˜,æ”¾åœ¨ç¬¬äºŒä½ä¸å¯ä»¥ï¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2.&lt;/strong&gt; å¸ƒå±€è°ƒç”¨æ—¶ï¼Œå‘½åç©ºé—´å¯è‡ªåŠ¨ç”Ÿæˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å»ºè®®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;1.&lt;/strong&gt; &lt;code&gt;android:showImgBg&lt;/code&gt;å¯ä»»æ„å†™ï¼Œä½†æ˜¯é¡¹ç›®é‡Œä¸èƒ½å‡ºç°ç›¸åŒçš„å‘½åï¼Œå¦åˆ™ä¼šè¢«åæ¥çš„è¦†ç›–æ‰ï¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2.&lt;/strong&gt; å¦‚æœ&lt;code&gt;imgload:showImgBg&lt;/code&gt;è¿™æ ·å†™,ç¬¬ä¸€æ¬¡ç¼–è¯‘ä¼šæç¤ºæ‰¾ä¸åˆ°è¯¥å‘½åç©ºé—´ï¼Œè·³åˆ°å£°æ˜å¤„ã€‚å»ºè®®å†™æˆ&lt;code&gt;android:showImgBg&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Android" scheme="http://jingbin.me/categories/Android/"/>
    
    
      <category term="Android" scheme="http://jingbin.me/tags/Android/"/>
    
      <category term="yunyue" scheme="http://jingbin.me/tags/yunyue/"/>
    
      <category term="databinding" scheme="http://jingbin.me/tags/databinding/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºWebViewå…¨æ–¹é¢çš„ä½¿ç”¨ï¼ˆé¡¹ç›®åº”ç”¨ç¯‡ï¼‰</title>
    <link href="http://jingbin.me/2016/12/04/%E5%85%B3%E4%BA%8EWebView%E5%85%A8%E6%96%B9%E9%9D%A2%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88%E9%A1%B9%E7%9B%AE%E5%BA%94%E7%94%A8%E7%AF%87%EF%BC%89/"/>
    <id>http://jingbin.me/2016/12/04/å…³äºWebViewå…¨æ–¹é¢çš„ä½¿ç”¨ï¼ˆé¡¹ç›®åº”ç”¨ç¯‡ï¼‰/</id>
    <published>2016-12-04T09:36:54.000Z</published>
    <updated>2016-12-04T09:42:53.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><strong>ä¸JSäº¤äº’</strong></li>
<li>æ‹¨æ‰“ç”µè¯ã€å‘é€çŸ­ä¿¡ã€å‘é€é‚®ä»¶</li>
<li>ä¸Šä¼ å›¾ç‰‡(ç‰ˆæœ¬å…¼å®¹)</li>
<li>è¿›åº¦æ¡è®¾ç½®</li>
<li>å­—ä½“å¤§å°è®¾ç½®</li>
<li>è¿”å›ç½‘é¡µä¸Šä¸€å±‚ã€æ˜¾ç¤ºç½‘é¡µæ ‡é¢˜</li>
<li>å…¨å±æ’­æ”¾ç½‘ç»œè§†é¢‘</li>
</ul>
<a id="more"></a>
<p><img src="http://upload-images.jianshu.io/upload_images/1354448-c47f48be7ab5ecec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/440" alt="é¦–é¡µ"></p>
<h2 id="æ–‡ç« è¯´æ˜"><a href="#æ–‡ç« è¯´æ˜" class="headerlink" title="æ–‡ç« è¯´æ˜"></a>æ–‡ç« è¯´æ˜</h2><p>WebViewçš„ä½¿ç”¨å·²ç»æ˜¯è€ç”Ÿå¸¸è°ˆäº†ï¼Œçœ‹åˆ°å¾ˆå¤šæ–‡ç« è¯´äº†ç”¨æ³•ï¼Œä½†æˆ‘å¾ˆå°‘çœ‹åˆ°å…¨çš„æˆ–è€…æ˜¯é¡¹ç›®ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ï¼Œéƒ½æ˜¯çœ‹äº†å¾ˆå¤šåï¼Œè‡ªå·±æŠŠåŠŸèƒ½éƒ½é›†åˆåœ¨ä¸€èµ·ã€‚è¿™é‡Œæ˜¯ä¸€ä»½æ¯”è¾ƒå…¨é¢çš„WebViewé¡¹ç›®åº”ç”¨ç¯‡ï¼Œå…¶ä¸­å·²ç»è§£å†³äº†åº”ç”¨æ—¶å‡ºç°çš„å¾ˆå¤šbugï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰å¸®åŠ©ã€‚</p>
<h2 id="é¡¹ç›®åœ°å€"><a href="#é¡¹ç›®åœ°å€" class="headerlink" title="é¡¹ç›®åœ°å€"></a>é¡¹ç›®åœ°å€</h2><p><strong><a href="https://github.com/youlookwhat/WebViewStudy" target="_blank" rel="external">WebViewStudy</a></strong></p>
<h2 id="å†…å®¹è¯¦ç»†ä»‹ç»"><a href="#å†…å®¹è¯¦ç»†ä»‹ç»" class="headerlink" title="å†…å®¹è¯¦ç»†ä»‹ç»"></a>å†…å®¹è¯¦ç»†ä»‹ç»</h2><h3 id="ç”µè¯çŸ­ä¿¡é‚®ä»¶"><a href="#ç”µè¯çŸ­ä¿¡é‚®ä»¶" class="headerlink" title="ç”µè¯çŸ­ä¿¡é‚®ä»¶"></a>ç”µè¯çŸ­ä¿¡é‚®ä»¶</h3><p><img src="http://upload-images.jianshu.io/upload_images/1354448-8c5b14fbf8fbdea8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/440" alt="ç”µè¯çŸ­ä¿¡é‚®ä»¶&amp;ä¸JSäº¤äº’æµ‹è¯•.png"></p>
<p>ç»™WebViewè®¾ç½®WebViewClientï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webView.setWebViewClient(<span class="keyword">new</span> MyWebViewClient(<span class="keyword">this</span>));</div></pre></td></tr></table></figure>
<p>å…¶ä¸­<code>MyWebViewClient</code>å†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** </span></div><div class="line">* ç›‘å¬ç½‘é¡µé“¾æ¥:</div><div class="line">* - ä¼˜é…·è§†é¢‘ç›´æ¥è·³åˆ°è‡ªå¸¦æµè§ˆå™¨ </div><div class="line">* - æ ¹æ®æ ‡è¯†:æ‰“ç”µè¯ã€å‘çŸ­ä¿¡ã€å‘é‚®ä»¶ </div><div class="line">* - è¿›åº¦æ¡çš„æ˜¾ç¤º </div><div class="line">* - åŠ è½½å®Œæˆåï¼Œæ·»åŠ javascriptç›‘å¬ </div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyWebViewClient</span> <span class="keyword">extends</span> <span class="title">WebViewClient</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> IWebPageView iWebPageView;</div><div class="line">    <span class="keyword">private</span> WebViewActivity activity;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyWebViewClient</span><span class="params">(IWebPageView iWebPageView)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.iWebPageView = iWebPageView;</div><div class="line">        activity = (WebViewActivity) iWebPageView;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">"deprecation"</span>)</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">shouldOverrideUrlLoading</span><span class="params">(WebView view, String url)</span> </span>&#123;</div><div class="line">        <span class="comment">// ä¼˜é…·è§†é¢‘è·³è½¬æµè§ˆå™¨æ’­æ”¾</span></div><div class="line">        <span class="keyword">if</span> (url.startsWith(<span class="string">"http://v.youku.com/"</span>)) &#123;</div><div class="line">            Intent intent = <span class="keyword">new</span> Intent();</div><div class="line">            intent.setAction(<span class="string">"android.intent.action.VIEW"</span>);</div><div class="line">            intent.addCategory(<span class="string">"android.intent.category.DEFAULT"</span>);</div><div class="line">            intent.addCategory(<span class="string">"android.intent.category.BROWSABLE"</span>);</div><div class="line">            Uri content_url = Uri.parse(url);</div><div class="line">            intent.setData(content_url);</div><div class="line">            activity.startActivity(intent);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line"></div><div class="line">            <span class="comment">// ç”µè¯ã€çŸ­ä¿¡ã€é‚®ç®±</span></div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (url.startsWith(WebView.SCHEME_TEL) || url.startsWith(<span class="string">"sms:"</span>) || url.startsWith(WebView.SCHEME_MAILTO)) &#123;</div><div class="line">            <span class="keyword">try</span> &#123;</div><div class="line">                Intent intent = <span class="keyword">new</span> Intent(Intent.ACTION_VIEW);</div><div class="line">                intent.setData(Uri.parse(url));</div><div class="line">                activity.startActivity(intent);</div><div class="line">            &#125; <span class="keyword">catch</span> (ActivityNotFoundException ignored) &#123;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        iWebPageView.startProgress();</div><div class="line">        view.loadUrl(url);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPageFinished</span><span class="params">(WebView view, String url)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (activity.progress90) &#123;</div><div class="line">            iWebPageView.hindProgressBar();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            activity.pageFinish = <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (!CheckNetwork.isNetworkConnected(activity)) &#123;</div><div class="line">            iWebPageView.hindProgressBar();</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// htmlåŠ è½½å®Œæˆä¹‹åï¼Œæ·»åŠ ç›‘å¬å›¾ç‰‡çš„ç‚¹å‡»jså‡½æ•°</span></div><div class="line">        iWebPageView.addImageClickListener();</div><div class="line">        <span class="keyword">super</span>.onPageFinished(view, url);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// è§†é¢‘å…¨å±æ’­æ”¾æŒ‰è¿”å›é¡µé¢è¢«æ”¾å¤§çš„é—®é¢˜</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onScaleChanged</span><span class="params">(WebView view, <span class="keyword">float</span> oldScale, <span class="keyword">float</span> newScale)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onScaleChanged(view, oldScale, newScale);</div><div class="line">        <span class="keyword">if</span>(newScale - oldScale &gt; <span class="number">7</span>) &#123;</div><div class="line">            view.setInitialScale((<span class="keyword">int</span>)(oldScale / newScale * <span class="number">100</span>)); <span class="comment">//å¼‚å¸¸æ”¾å¤§ï¼Œç¼©å›å»ã€‚</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å› ä¸ºæœ‰å¾ˆå¤šé…ç½®ï¼Œè¿™é‡ŒæŠŠå„ä¸ªåŠŸèƒ½æ¨¡å—é€šè¿‡æ¥å£<code>IWebPageView</code>åˆ†ç¦»äº†å‡ºæ¥ï¼Œè¿™æ ·é€»è¾‘æ›´æ¸…æ™°ã€‚</p>
<h3 id="ä¸JSäº¤äº’"><a href="#ä¸JSäº¤äº’" class="headerlink" title="ä¸JSäº¤äº’"></a>ä¸JSäº¤äº’</h3><p>ç›¸ä¿¡å¤§å®¶å·²ç»çœ‹åˆ°äº†ä¸Šé¢â€â€”-ç‚¹å‡»äº†å›¾ç‰‡â€çš„Toastï¼Œè¿™é‡Œéœ€è¦å…ˆç»™WebViewè®¾ç½®JavascriptInterfaceï¼š<br><code>webView.addJavascriptInterface(new ImageClickInterface(this), &quot;injectedObject&quot;);</code></p>
<p>å…¶ä¸­<code>ImageClickInterface</code>ç›¸å…³ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageClickInterface</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> Context context;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ImageClickInterface</span><span class="params">(Context context)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.context = context;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@JavascriptInterface</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">imageClick</span><span class="params">(String imgUrl, String hasLink)</span> </span>&#123;</div><div class="line">        Toast.makeText(context, <span class="string">"----ç‚¹å‡»äº†å›¾ç‰‡"</span>, Toast.LENGTH_SHORT).show();</div><div class="line">        <span class="comment">// æŸ¥çœ‹å¤§å›¾</span></div><div class="line"><span class="comment">//        Intent intent = new Intent(context, ViewBigImageActivity.class);</span></div><div class="line"><span class="comment">//        intent.putStringArrayListExtra("imgUrl",imgUrl);</span></div><div class="line"><span class="comment">//        context.startActivity(intent);</span></div><div class="line"><span class="comment">//        Log.e("----ç‚¹å‡»äº†å›¾ç‰‡ url: ", "" + imgUrl);</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åŠ å…¥ç›‘å¬ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addImageClickListener</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">// è¿™æ®µjså‡½æ•°çš„åŠŸèƒ½å°±æ˜¯ï¼Œéå†æ‰€æœ‰çš„imgèŠ‚ç‚¹ï¼Œ</span></div><div class="line">       <span class="comment">// å¹¶æ·»åŠ onclickå‡½æ•°ï¼Œå‡½æ•°çš„åŠŸèƒ½æ˜¯åœ¨å›¾ç‰‡ç‚¹å‡»çš„æ—¶å€™è°ƒç”¨æœ¬åœ°javaæ¥å£å¹¶ä¼ é€’å¯¹åº”srcå’Œhas_linké‡Œçš„å€¼è¿‡å»</span></div><div class="line">        webView.loadUrl(<span class="string">"javascript:(function()&#123;"</span> +</div><div class="line">                <span class="string">"var objs = document.getElementsByTagName(\"img\");"</span> +</div><div class="line">                <span class="string">"for(var i=0;i&lt;objs.length;i++)"</span> +</div><div class="line">                <span class="string">"&#123;"</span> +</div><div class="line">                <span class="string">"objs[i].onclick=function()&#123;window.injectedObject.imageClick(this.getAttribute(\"src\"),this.getAttribute(\"has_link\"));&#125;"</span> +</div><div class="line">                <span class="string">"&#125;"</span> +</div><div class="line">                <span class="string">"&#125;)()"</span>);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç½‘é¡µå¯¹åº”çš„æºç ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=<span class="string">"[./callsms_files/753b877c-c098-43e9-85cc-6df5bbdaaafe](./callsms_files/753b877c-c098-43e9-85cc-6df5bbdaaafe)"</span> style=<span class="string">"width: 100%"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>å¤§å®¶å¯èƒ½è§‰å¾—æœ‰ç‚¹æ€ªå¼‚..å› ä¸ºè¿™æ˜¯ä¿å­˜çš„æœ¬åœ°ç½‘é¡µï¼Œå¦‚æ˜¯çº¿ä¸Šçš„è¯ï¼Œæ˜¯è¿™æ ·ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=<span class="string">'[http://7xk154.com1.z0.glb.clouddn.com/article/753b877c-c098-43e9-85cc-6df5bbdaaafe](http://7xk154.com1.z0.glb.clouddn.com/article/753b877c-c098-43e9-85cc-6df5bbdaaafe)'</span> style=<span class="string">'width: 100%'</span>&gt;</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œä¼ é€’è¿‡å»çš„æ˜¯ä¸€ä¸ªå›¾ç‰‡<code>url</code>çš„å€¼ï¼Œæ²¡æœ‰çš„å±æ€§ä¼ è¿‡å»çš„åˆ™æ˜¯nullã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¯¹å…¶è¿›è¡Œå…·ä½“çš„æ“ä½œäº†ã€‚</p>
<h3 id="å­—ä½“å¤§å°è®¾ç½®"><a href="#å­—ä½“å¤§å°è®¾ç½®" class="headerlink" title="å­—ä½“å¤§å°è®¾ç½®"></a>å­—ä½“å¤§å°è®¾ç½®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** è®¾ç½®å­—ä½“é»˜è®¤ç¼©æ”¾å¤§å°(æ”¹å˜ç½‘é¡µå­—ä½“å¤§å°,setTextSize  api14è¢«å¼ƒç”¨)*/</span></div><div class="line">ws.setTextZoom(<span class="number">100</span>);</div></pre></td></tr></table></figure>
<blockquote>
<p>å…¶ä¸­<code>100</code>ä¸ºé»˜è®¤ç¼©æ”¾æ¯”ï¼Œé€šè¿‡è®¾ç½®ç¼©æ”¾æ¯”æ¥æ§åˆ¶å­—ä½“å¤§å°ã€‚</p>
</blockquote>
<h3 id="ä¸Šä¼ å›¾ç‰‡-ç‰ˆæœ¬å…¼å®¹-amp-å…¨å±æ’­æ”¾ç½‘ç»œè§†é¢‘-amp-æ˜¾ç¤ºç½‘é¡µæ ‡é¢˜"><a href="#ä¸Šä¼ å›¾ç‰‡-ç‰ˆæœ¬å…¼å®¹-amp-å…¨å±æ’­æ”¾ç½‘ç»œè§†é¢‘-amp-æ˜¾ç¤ºç½‘é¡µæ ‡é¢˜" class="headerlink" title="ä¸Šä¼ å›¾ç‰‡(ç‰ˆæœ¬å…¼å®¹) &amp; å…¨å±æ’­æ”¾ç½‘ç»œè§†é¢‘ &amp; æ˜¾ç¤ºç½‘é¡µæ ‡é¢˜"></a>ä¸Šä¼ å›¾ç‰‡(ç‰ˆæœ¬å…¼å®¹) &amp; å…¨å±æ’­æ”¾ç½‘ç»œè§†é¢‘ &amp; æ˜¾ç¤ºç½‘é¡µæ ‡é¢˜</h3><p>è¿™é‡Œå› ä¸ºç¯‡å¹…åŸå› ï¼Œé‡Œé¢çš„ä»£ç å¾ˆå¤šï¼Œå°±ä¸è´´å‡ºæ¥äº†ï¼Œå¤§å®¶å¯ä»¥ç‚¹å‡»<a href="https://github.com/youlookwhat/WebViewStudy/blob/master/app/src/main/java/com/example/jingbin/webviewstudy/config/MyWebChromeClient.java" target="_blank" rel="external">MyWebChromeClient.java</a>ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1354448-59c17e13bb486d7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/440" alt="ä¸Šä¼ å›¾ç‰‡.png"></p>
<h3 id="è¿”å›ç½‘é¡µä¸Šä¸€å±‚"><a href="#è¿”å›ç½‘é¡µä¸Šä¸€å±‚" class="headerlink" title="è¿”å›ç½‘é¡µä¸Šä¸€å±‚"></a>è¿”å›ç½‘é¡µä¸Šä¸€å±‚</h3><p>è¿”å›ç½‘é¡µä¸Šä¸€å±‚åŠé€€å‡ºå…¨å±ç­‰æ“ä½œï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Overridepublic</span> </div><div class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">onKeyDown</span><span class="params">(<span class="keyword">int</span> keyCode, KeyEvent event)</span> </span>&#123;    </div><div class="line">  <span class="keyword">if</span> (keyCode == KeyEvent.KEYCODE_BACK) &#123;        </div><div class="line">      <span class="comment">//å…¨å±æ’­æ”¾é€€å‡ºå…¨å±        </span></div><div class="line">      <span class="keyword">if</span> (webChromeClient.inCustomView()) &#123;            </div><div class="line">              hideCustomView();            </div><div class="line">              <span class="keyword">return</span> <span class="keyword">true</span>;            </div><div class="line">        <span class="comment">//è¿”å›ç½‘é¡µä¸Šä¸€é¡µ        </span></div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (webView.canGoBack()) &#123;            </div><div class="line">              webView.goBack();            </div><div class="line">              <span class="keyword">return</span> <span class="keyword">true</span>;            </div><div class="line">         <span class="comment">//é€€å‡ºç½‘é¡µ        </span></div><div class="line">         &#125; <span class="keyword">else</span> &#123;            </div><div class="line">              webView.loadUrl(<span class="string">"about:blank"</span>);            </div><div class="line">              finish();        </div><div class="line">        &#125;    </div><div class="line">     &#125;    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="è¿›åº¦æ¡è®¾ç½®"><a href="#è¿›åº¦æ¡è®¾ç½®" class="headerlink" title="è¿›åº¦æ¡è®¾ç½®"></a>è¿›åº¦æ¡è®¾ç½®</h3><p>è¿™é‡Œç”¨çš„æ˜¯å…ˆåŠ è½½åˆ°90%å†åŠ è½½åˆ°100%, å…·ä½“ä¸ºä»€ä¹ˆç›¸ä¿¡å¤§å®¶éƒ½æ‡‚å§â€¦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è¿›åº¦æ¡ å‡è£…åŠ è½½åˆ°90%</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startProgress90</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">900</span>; i++) &#123;</div><div class="line">            <span class="keyword">final</span> <span class="keyword">int</span> progress = i + <span class="number">1</span>;</div><div class="line">            mProgressBar.postDelayed(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">                <span class="meta">@Override</span></div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">                    mProgressBar.setProgress(progress);</div><div class="line">                    <span class="keyword">if</span> (progress == <span class="number">900</span>) &#123;</div><div class="line">                        progress90 = <span class="keyword">true</span>;</div><div class="line">                        <span class="keyword">if</span> (pageFinish) &#123;</div><div class="line">                            startProgress90to100();</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;, (i + <span class="number">1</span>) * <span class="number">2</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>å†åŠ è½½åˆ°100%:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åŠ è½½åˆ°90%åå†åŠ è½½åˆ°100%</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">progressChanged</span><span class="params">(<span class="keyword">int</span> newProgress)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (progress90) &#123;</div><div class="line">            <span class="keyword">int</span> progress = newProgress * <span class="number">100</span>;</div><div class="line">            <span class="keyword">if</span> (progress &gt; <span class="number">900</span>) &#123;</div><div class="line">                mProgressBar.setProgress(progress);</div><div class="line">                <span class="keyword">if</span> (progress == <span class="number">1000</span>) &#123;</div><div class="line">                    mProgressBar.setVisibility(View.GONE);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><blockquote>
<p>å¦‚å¾ˆå¤šç»†èŠ‚ä¸çŸ¥ç¼˜ç”±çš„æŸ¥çœ‹è¿™é‡Œ</p>
</blockquote>
<ul>
<li><a href="https://developer.android.com/reference/android/webkit/WebSettings.html" target="_blank" rel="external">https://developer.android.com/reference/android/webkit/WebSettings.html</a></li>
<li><a href="http://www.jianshu.com/p/32d48ca7d0e0" target="_blank" rel="external">http://www.jianshu.com/p/32d48ca7d0e0</a></li>
<li><a href="http://www.apkfuns.com/android-webview%E4%B8%8Ejavascript%E4%BA%A4%E4%BA%92.html" target="_blank" rel="external">http://www.apkfuns.com/android-webview%E4%B8%8Ejavascript%E4%BA%A4%E4%BA%92.html</a></li>
</ul>
<h2 id="æ‰€é‡é—®é¢˜"><a href="#æ‰€é‡é—®é¢˜" class="headerlink" title="æ‰€é‡é—®é¢˜"></a>æ‰€é‡é—®é¢˜</h2><ul>
<li><a href="http://blog.csdn.net/u013320868/article/details/52837671" target="_blank" rel="external">WebViewåŠ è½½ç½‘é¡µä¸æ˜¾ç¤ºå›¾ç‰‡è§£å†³åŠæ³•</a></li>
<li><a href="http://blog.csdn.net/guozhiganggang/article/details/52097975" target="_blank" rel="external">webview: è§†é¢‘å…¨å±æ’­æ”¾æŒ‰è¿”å›é¡µé¢è¢«æ”¾å¤§çš„é—®é¢˜</a></li>
<li><a href="https://chromium.googlesource.com/chromium/src/+/dc26192a317d9511ce983fd4b26b1130fe25761a" target="_blank" rel="external">Failed to init browser shader disk cache.</a></li>
<li><a href="http://forum.xda-developers.com/showthread.php?t=2212632" target="_blank" rel="external">EGL_BAD_DISPLAY</a></li>
<li><a href="https://chromium.googlesource.com/chromium/src.git/+/46.0.2478.0/content/browser/android/java/gin_java_bridge_message_filter.cc" target="_blank" rel="external">Unknown frame routing id: 3</a></li>
<li>æ‰¾ä¸åˆ°assetsç›®å½•ä¸‹èµ„æºï¼šæ³¨æ„assetsåœ¨å“ªå±‚æ–‡ä»¶å¤¹ä¸‹ï¼ä¸AndroidManifest.xmlåŒçº§</li>
<li>è§†é¢‘æ’­æ”¾å®½åº¦æ¯”webviewè®¾ç½®çš„å®½åº¦å¤§ï¼Œè¶…è¿‡å±å¹•ï¼šè®¾ç½®ws.setLoadWithOverviewMode(false);</li>
<li>onDestroyæ—¶çš„æ¸…é™¤èµ„æºæ“ä½œ</li>
</ul>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>æœ€åå†é™„ä¸€éé¡¹ç›®åœ°å€ğŸ˜†ï¼š<strong><a href="https://github.com/youlookwhat/WebViewStudy" target="_blank" rel="external">WebViewStudy</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸JSäº¤äº’&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ‹¨æ‰“ç”µè¯ã€å‘é€çŸ­ä¿¡ã€å‘é€é‚®ä»¶&lt;/li&gt;
&lt;li&gt;ä¸Šä¼ å›¾ç‰‡(ç‰ˆæœ¬å…¼å®¹)&lt;/li&gt;
&lt;li&gt;è¿›åº¦æ¡è®¾ç½®&lt;/li&gt;
&lt;li&gt;å­—ä½“å¤§å°è®¾ç½®&lt;/li&gt;
&lt;li&gt;è¿”å›ç½‘é¡µä¸Šä¸€å±‚ã€æ˜¾ç¤ºç½‘é¡µæ ‡é¢˜&lt;/li&gt;
&lt;li&gt;å…¨å±æ’­æ”¾ç½‘ç»œè§†é¢‘&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Android" scheme="http://jingbin.me/categories/Android/"/>
    
    
      <category term="Android" scheme="http://jingbin.me/tags/Android/"/>
    
      <category term="webview" scheme="http://jingbin.me/tags/webview/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºGlideçš„ä½¿ç”¨(é«˜æ–¯æ¨¡ç³Šã€åŠ è½½ç›‘å¬ã€åœ†è§’å›¾ç‰‡)</title>
    <link href="http://jingbin.me/2016/11/29/%E5%85%B3%E4%BA%8EGilde%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://jingbin.me/2016/11/29/å…³äºGildeçš„ä½¿ç”¨/</id>
    <published>2016-11-29T04:07:32.000Z</published>
    <updated>2016-11-29T05:33:39.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://upload-images.jianshu.io/upload_images/1354448-c373098272fca1e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1040" alt="stackblur_default.png"></p>
<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">compile <span class="string">'com.github.bumptech.glide:glide:3.7.0'</span></div></pre></td></tr></table></figure>
<h2 id="åŠ è½½å›¾ç‰‡"><a href="#åŠ è½½å›¾ç‰‡" class="headerlink" title="åŠ è½½å›¾ç‰‡"></a>åŠ è½½å›¾ç‰‡</h2><h3 id="åŸºæœ¬åŠ è½½"><a href="#åŸºæœ¬åŠ è½½" class="headerlink" title="åŸºæœ¬åŠ è½½"></a>åŸºæœ¬åŠ è½½</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Glide.with(context)</div><div class="line">	.load(url)</div><div class="line">	.into(imageView);</div></pre></td></tr></table></figure>
<h3 id="è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ"><a href="#è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ" class="headerlink" title="è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ"></a>è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Glide.with(context)</div><div class="line">	.load(url)</div><div class="line">	.placeholder(R.drawable.loading) <span class="comment">//å ä½ç¬¦ ä¹Ÿå°±æ˜¯åŠ è½½ä¸­çš„å›¾ç‰‡ï¼Œå¯æ”¾ä¸ªgif</span></div><div class="line">	.error(R.drawable.failed) <span class="comment">//å¤±è´¥å›¾ç‰‡</span></div><div class="line">	.into(view);</div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="åªåŠ è½½åŠ¨ç”»"><a href="#åªåŠ è½½åŠ¨ç”»" class="headerlink" title="åªåŠ è½½åŠ¨ç”»"></a>åªåŠ è½½åŠ¨ç”»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Glide.with(context)</div><div class="line">	.load(url)</div><div class="line">	.asGif() <span class="comment">// åªèƒ½åŠ è½½gifæ–‡ä»¶</span></div><div class="line">	.into(imageView);</div></pre></td></tr></table></figure>
<h3 id="æ·»åŠ å›¾ç‰‡æ·¡å…¥åŠ è½½çš„æ•ˆæœ"><a href="#æ·»åŠ å›¾ç‰‡æ·¡å…¥åŠ è½½çš„æ•ˆæœ" class="headerlink" title="æ·»åŠ å›¾ç‰‡æ·¡å…¥åŠ è½½çš„æ•ˆæœ"></a>æ·»åŠ å›¾ç‰‡æ·¡å…¥åŠ è½½çš„æ•ˆæœ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Glide.with(context)</div><div class="line">	.load(url)</div><div class="line">	.placeholder(R.drawable.loading)</div><div class="line">	.error(R.drawable.failed) </div><div class="line">	.crossFade(<span class="number">1000</span>) <span class="comment">// å¯è®¾ç½®æ—¶é•¿ï¼Œé»˜è®¤â€œ300msâ€</span></div><div class="line">	.into(view);</div></pre></td></tr></table></figure>
<h3 id="åŠ è½½é«˜æ–¯æ¨¡ç³Šå›¾"><a href="#åŠ è½½é«˜æ–¯æ¨¡ç³Šå›¾" class="headerlink" title="åŠ è½½é«˜æ–¯æ¨¡ç³Šå›¾"></a>åŠ è½½é«˜æ–¯æ¨¡ç³Šå›¾</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Glide.with(context)</div><div class="line">	.load(url)</div><div class="line">	.placeholder(R.drawable.loading)</div><div class="line">	.error(R.drawable.failed) </div><div class="line">	.crossFade(<span class="number">1000</span>)</div><div class="line">	.bitmapTransform(<span class="keyword">new</span> BlurTransformation(context,<span class="number">23</span>,<span class="number">4</span>))  <span class="comment">// â€œ23â€ï¼šè®¾ç½®æ¨¡ç³Šåº¦(åœ¨0.0åˆ°25.0ä¹‹é—´)ï¼Œé»˜è®¤â€25";"4":å›¾ç‰‡ç¼©æ”¾æ¯”ä¾‹,é»˜è®¤â€œ1â€ã€‚</span></div><div class="line">	.into(view);</div></pre></td></tr></table></figure>
<h3 id="åŠ è½½ç›‘å¬å™¨RequestListener"><a href="#åŠ è½½ç›‘å¬å™¨RequestListener" class="headerlink" title="åŠ è½½ç›‘å¬å™¨RequestListener"></a>åŠ è½½ç›‘å¬å™¨RequestListener</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Glide.with(<span class="keyword">this</span>).load(internetUrl).listener(<span class="keyword">new</span> RequestListener&lt;String, GlideDrawable&gt;() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onException</span><span class="params">(Exception e, String model, Target&lt;GlideDrawable&gt; target, <span class="keyword">boolean</span> isFirstResource)</span> </span>&#123;</div><div class="line">                Toast.makeText(getApplicationContext(),<span class="string">"èµ„æºåŠ è½½å¼‚å¸¸"</span>,Toast.LENGTH_SHORT).show();</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//è¿™ä¸ªç”¨äºç›‘å¬å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œæˆ</span></div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onResourceReady</span><span class="params">(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, <span class="keyword">boolean</span> isFromMemoryCache, <span class="keyword">boolean</span> isFirstResource)</span> </span>&#123;</div><div class="line">                Toast.makeText(getApplicationContext(),<span class="string">"å›¾ç‰‡åŠ è½½å®Œæˆ"</span>,Toast.LENGTH_SHORT).show();</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;).into(imageView);</div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœéœ€è¦åŠ è½½å®Œæˆåè®¾ç½®å›¾ç‰‡é€æ˜åº¦ä¸º0ï¼Œåˆ™ä¸èƒ½è®¾ç½®<code>.placeholder(R.drawable.url)</code>ï¼Œå¦åˆ™è¾¾ä¸åˆ°ä½ æƒ³è¦çš„æ•ˆæœã€‚</p>
</blockquote>
<h3 id="å›¾ç‰‡ç¼“å­˜æœºåˆ¶"><a href="#å›¾ç‰‡ç¼“å­˜æœºåˆ¶" class="headerlink" title="å›¾ç‰‡ç¼“å­˜æœºåˆ¶"></a>å›¾ç‰‡ç¼“å­˜æœºåˆ¶</h3><p>Glideç¼“å­˜ç­–ç•¥</p>
<p>Glideé»˜è®¤å¼€å¯ç£ç›˜ç¼“å­˜å’Œå†…å­˜ç¼“å­˜ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¯¹å•å¼ å›¾ç‰‡è¿›è¡Œè®¾ç½®ç‰¹å®šçš„ç¼“å­˜ç­–ç•¥ã€‚<br>è®¾ç½®å›¾ç‰‡ä¸åŠ å…¥åˆ°å†…å­˜ç¼“å­˜</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Glide.with( context )</div><div class="line">	.load( eatFoodyImages[<span class="number">0</span>] )</div><div class="line">	.skipMemoryCache( <span class="keyword">true</span> )</div><div class="line">	.into( imageViewInternet );</div></pre></td></tr></table></figure>
<p>è®¾ç½®å›¾ç‰‡ä¸åŠ å…¥åˆ°ç£ç›˜ç¼“å­˜</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Glide.with( context )</div><div class="line">	.load( eatFoodyImages[<span class="number">0</span>] )</div><div class="line">	.diskCacheStrategy( DiskCacheStrategy.NONE )</div><div class="line">	.into( imageViewInternet );</div></pre></td></tr></table></figure>
<p>Glideæ”¯æŒå¤šç§ç£ç›˜ç¼“å­˜ç­–ç•¥ï¼š</p>
<p>DiskCacheStrategy.NONE :ä¸ç¼“å­˜å›¾ç‰‡<br>DiskCacheStrategy.SOURCE :ç¼“å­˜å›¾ç‰‡æºæ–‡ä»¶<br>DiskCacheStrategy.RESULT:ç¼“å­˜ä¿®æ”¹è¿‡çš„å›¾ç‰‡<br>DiskCacheStrategy.ALL:ç¼“å­˜æ‰€æœ‰çš„å›¾ç‰‡ï¼Œé»˜è®¤</p>
<h3 id="åŠ è½½åœ†è§’å›¾ç‰‡"><a href="#åŠ è½½åœ†è§’å›¾ç‰‡" class="headerlink" title="åŠ è½½åœ†è§’å›¾ç‰‡"></a>åŠ è½½åœ†è§’å›¾ç‰‡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlideCircleTransform</span> <span class="keyword">extends</span> <span class="title">BitmapTransformation</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GlideCircleTransform</span><span class="params">(Context context)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> Bitmap <span class="title">transform</span><span class="params">(BitmapPool pool, Bitmap toTransform, <span class="keyword">int</span> outWidth, <span class="keyword">int</span> outHeight)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> circleCrop(pool, toTransform);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Bitmap <span class="title">circleCrop</span><span class="params">(BitmapPool pool, Bitmap source)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (source == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">int</span> size = Math.min(source.getWidth(), source.getHeight());</div><div class="line">        <span class="keyword">int</span> x = (source.getWidth() - size) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> y = (source.getHeight() - size) / <span class="number">2</span>;</div><div class="line">        <span class="comment">// TODO this could be acquired from the pool too</span></div><div class="line">        Bitmap squared = Bitmap.createBitmap(source, x, y, size, size);</div><div class="line">        Bitmap result = pool.get(size, size, Bitmap.Config.ARGB_8888);</div><div class="line">        <span class="keyword">if</span> (result == <span class="keyword">null</span>) &#123;</div><div class="line">            result = Bitmap.createBitmap(size, size, Bitmap.Config.ARGB_8888);</div><div class="line">        &#125;</div><div class="line">        Canvas canvas = <span class="keyword">new</span> Canvas(result);</div><div class="line">        Paint paint = <span class="keyword">new</span> Paint();</div><div class="line">        paint.setShader(<span class="keyword">new</span> BitmapShader(squared, BitmapShader.TileMode.CLAMP, BitmapShader.TileMode.CLAMP));</div><div class="line">        paint.setAntiAlias(<span class="keyword">true</span>);</div><div class="line">        <span class="keyword">float</span> r = size / <span class="number">2f</span>;</div><div class="line">        canvas.drawCircle(r, r, r, paint);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> getClass().getName();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Glide.with(mContext)</div><div class="line">    .load(imageUrl)</div><div class="line">    .transform(<span class="keyword">new</span> GlideCircleTransform(mContext))</div><div class="line">    .into(holder.imageView);</div></pre></td></tr></table></figure>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="http://blog.csdn.net/zhihui_520/article/details/51822336" target="_blank" rel="external">http://blog.csdn.net/zhihui_520/article/details/51822336</a></li>
<li><a href="http://blog.csdn.net/u010694658/article/details/52689317" target="_blank" rel="external">http://blog.csdn.net/u010694658/article/details/52689317</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1354448-c373098272fca1e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1040&quot; alt=&quot;stackblur_default.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;å¼•ç”¨&quot;&gt;&lt;a href=&quot;#å¼•ç”¨&quot; class=&quot;headerlink&quot; title=&quot;å¼•ç”¨&quot;&gt;&lt;/a&gt;å¼•ç”¨&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;compile &lt;span class=&quot;string&quot;&gt;&#39;com.github.bumptech.glide:glide:3.7.0&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;åŠ è½½å›¾ç‰‡&quot;&gt;&lt;a href=&quot;#åŠ è½½å›¾ç‰‡&quot; class=&quot;headerlink&quot; title=&quot;åŠ è½½å›¾ç‰‡&quot;&gt;&lt;/a&gt;åŠ è½½å›¾ç‰‡&lt;/h2&gt;&lt;h3 id=&quot;åŸºæœ¬åŠ è½½&quot;&gt;&lt;a href=&quot;#åŸºæœ¬åŠ è½½&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬åŠ è½½&quot;&gt;&lt;/a&gt;åŸºæœ¬åŠ è½½&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Glide.with(context)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	.load(url)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	.into(imageView);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ&quot;&gt;&lt;a href=&quot;#è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ&quot;&gt;&lt;/a&gt;è®¾ç½®åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çš„æƒ…å†µ&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Glide.with(context)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	.load(url)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	.placeholder(R.drawable.loading) &lt;span class=&quot;comment&quot;&gt;//å ä½ç¬¦ ä¹Ÿå°±æ˜¯åŠ è½½ä¸­çš„å›¾ç‰‡ï¼Œå¯æ”¾ä¸ªgif&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	.error(R.drawable.failed) &lt;span class=&quot;comment&quot;&gt;//å¤±è´¥å›¾ç‰‡&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	.into(view);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Android" scheme="http://jingbin.me/categories/Android/"/>
    
    
      <category term="Android" scheme="http://jingbin.me/tags/Android/"/>
    
      <category term="å¼€æºåº“ä½¿ç”¨" scheme="http://jingbin.me/tags/%E5%BC%80%E6%BA%90%E5%BA%93%E4%BD%BF%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>æ”¶é›†â€œæ–°å¥‡çš„ç½‘ç«™â€</title>
    <link href="http://jingbin.me/2016/11/23/%E6%94%B6%E9%9B%86%E2%80%9C%E6%96%B0%E5%A5%87%E7%9A%84%E7%BD%91%E7%AB%99%E2%80%9D/"/>
    <id>http://jingbin.me/2016/11/23/æ”¶é›†â€œæ–°å¥‡çš„ç½‘ç«™â€/</id>
    <published>2016-11-23T14:36:23.000Z</published>
    <updated>2016-11-29T03:30:41.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="äº§å“åŸå‹åˆ¶ä½œ"><a href="#äº§å“åŸå‹åˆ¶ä½œ" class="headerlink" title="äº§å“åŸå‹åˆ¶ä½œ"></a>äº§å“åŸå‹åˆ¶ä½œ</h3><ul>
<li><a href="https://www.sketchapp.com/" target="_blank" rel="external">Sketchï¼Œæœ€ä½³åŸå‹åˆ¶ä½œå·¥å…·</a></li>
<li><a href="https://dribbble.com/designers" target="_blank" rel="external">Dribbbleï¼Œå…»æˆä¸€åŒå‘ç°å¹¶æ‡‚å¾—ç¾çš„çœ¼ç›(ç¾å›¾)</a></li>
<li><a href="http://www.calltoidea.com/" target="_blank" rel="external">æ–°å¥‡-Get quickly inspiration!ï¼ˆé¡µé¢ï¼‰</a></li>
<li><a href="https://pixabay.com/" target="_blank" rel="external">å…è´¹çš„é«˜æ¸…å›¾ç‰‡</a></li>
<li><a href="https://dribbble.com/" target="_blank" rel="external">dribbble å…¨çƒæœ€ä¼˜è´¨çš„è®¾è®¡ä½œå“èšé›†åœ°</a></li>
</ul>
<h3 id="UIè®¾è®¡å¸ˆæ¨è"><a href="#UIè®¾è®¡å¸ˆæ¨è" class="headerlink" title="UIè®¾è®¡å¸ˆæ¨è"></a>UIè®¾è®¡å¸ˆæ¨è</h3><ul>
<li><a href="http://www.zcool.com.cn/" target="_blank" rel="external">ç«™é…·(ZCOOL)-è®¾è®¡å¸ˆäº’åŠ¨å¹³å°</a></li>
<li><a href="http://www.woofeng.cn/" target="_blank" rel="external">é»„èœ‚ç½‘</a></li>
<li><a href="http://www.ui.cn/" target="_blank" rel="external">UIä¸­å›½-ä¸“ä¸šç•Œé¢äº¤äº’å¹³å°</a></li>
<li><a href="https://www.behance.net/" target="_blank" rel="external">behance å±•ç¤ºå’Œå‘ç°åˆ›æ„ä½œå“</a></li>
</ul>
<h3 id="é¢œè‰²æ­é…åŠiconåˆ¶ä½œ"><a href="#é¢œè‰²æ­é…åŠiconåˆ¶ä½œ" class="headerlink" title="é¢œè‰²æ­é…åŠiconåˆ¶ä½œ"></a>é¢œè‰²æ­é…åŠiconåˆ¶ä½œ</h3><ul>
<li><a href="http://www.colorhunt.co/" target="_blank" rel="external">ColorHunt-è‰²å½©æ­é…</a></li>
<li><a href="https://romannurik.github.io/AndroidAssetStudio/icons-launcher.html" target="_blank" rel="external">iconåœ¨çº¿åˆ¶ä½œ</a></li>
<li><a href="http://www.iconfont.cn/plus" target="_blank" rel="external">iconå›¾æ ‡åº“</a></li>
<li><a href="http://www.sioe.cn/yingyong/yanse-rgb-16/" target="_blank" rel="external">RGBé¢œè‰²å€¼è½¬æ¢æˆåå…­è¿›åˆ¶é¢œè‰²ç </a></li>
</ul>
<a id="more"></a>
<h3 id="ç§»åŠ¨åº”ç”¨åˆ†å‘"><a href="#ç§»åŠ¨åº”ç”¨åˆ†å‘" class="headerlink" title="ç§»åŠ¨åº”ç”¨åˆ†å‘"></a>ç§»åŠ¨åº”ç”¨åˆ†å‘</h3><ul>
<li><a href="http://fir.im/" target="_blank" rel="external">Fir.im</a></li>
<li><a href="http://developer.wandoujia.com/" target="_blank" rel="external">è±Œè±†èš</a></li>
<li><a href="http://developer.android.com/distribute/tools/launch-checklist.html" target="_blank" rel="external">play store</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;äº§å“åŸå‹åˆ¶ä½œ&quot;&gt;&lt;a href=&quot;#äº§å“åŸå‹åˆ¶ä½œ&quot; class=&quot;headerlink&quot; title=&quot;äº§å“åŸå‹åˆ¶ä½œ&quot;&gt;&lt;/a&gt;äº§å“åŸå‹åˆ¶ä½œ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.sketchapp.com/&quot;&gt;Sketchï¼Œæœ€ä½³åŸå‹åˆ¶ä½œå·¥å…·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://dribbble.com/designers&quot;&gt;Dribbbleï¼Œå…»æˆä¸€åŒå‘ç°å¹¶æ‡‚å¾—ç¾çš„çœ¼ç›(ç¾å›¾)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.calltoidea.com/&quot;&gt;æ–°å¥‡-Get quickly inspiration!ï¼ˆé¡µé¢ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pixabay.com/&quot;&gt;å…è´¹çš„é«˜æ¸…å›¾ç‰‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://dribbble.com/&quot;&gt;dribbble å…¨çƒæœ€ä¼˜è´¨çš„è®¾è®¡ä½œå“èšé›†åœ°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;UIè®¾è®¡å¸ˆæ¨è&quot;&gt;&lt;a href=&quot;#UIè®¾è®¡å¸ˆæ¨è&quot; class=&quot;headerlink&quot; title=&quot;UIè®¾è®¡å¸ˆæ¨è&quot;&gt;&lt;/a&gt;UIè®¾è®¡å¸ˆæ¨è&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.zcool.com.cn/&quot;&gt;ç«™é…·(ZCOOL)-è®¾è®¡å¸ˆäº’åŠ¨å¹³å°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.woofeng.cn/&quot;&gt;é»„èœ‚ç½‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ui.cn/&quot;&gt;UIä¸­å›½-ä¸“ä¸šç•Œé¢äº¤äº’å¹³å°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.behance.net/&quot;&gt;behance å±•ç¤ºå’Œå‘ç°åˆ›æ„ä½œå“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;é¢œè‰²æ­é…åŠiconåˆ¶ä½œ&quot;&gt;&lt;a href=&quot;#é¢œè‰²æ­é…åŠiconåˆ¶ä½œ&quot; class=&quot;headerlink&quot; title=&quot;é¢œè‰²æ­é…åŠiconåˆ¶ä½œ&quot;&gt;&lt;/a&gt;é¢œè‰²æ­é…åŠiconåˆ¶ä½œ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.colorhunt.co/&quot;&gt;ColorHunt-è‰²å½©æ­é…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://romannurik.github.io/AndroidAssetStudio/icons-launcher.html&quot;&gt;iconåœ¨çº¿åˆ¶ä½œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.iconfont.cn/plus&quot;&gt;iconå›¾æ ‡åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.sioe.cn/yingyong/yanse-rgb-16/&quot;&gt;RGBé¢œè‰²å€¼è½¬æ¢æˆåå…­è¿›åˆ¶é¢œè‰²ç &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="å·¥å…·" scheme="http://jingbin.me/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="å·¥å…·" scheme="http://jingbin.me/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="åˆ›æ„çµæ„Ÿ" scheme="http://jingbin.me/tags/%E5%88%9B%E6%84%8F%E7%81%B5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>å¯èƒ½æ˜¯è®²è§£Androidäº‹ä»¶åˆ†å‘æœ€å¥½çš„æ–‡ç« </title>
    <link href="http://jingbin.me/2016/11/22/%E5%8F%AF%E8%83%BD%E6%98%AF%E8%AE%B2%E8%A7%A3Android%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E6%9C%80%E5%A5%BD%E7%9A%84%E6%96%87%E7%AB%A0/"/>
    <id>http://jingbin.me/2016/11/22/å¯èƒ½æ˜¯è®²è§£Androidäº‹ä»¶åˆ†å‘æœ€å¥½çš„æ–‡ç« /</id>
    <published>2016-11-22T14:37:52.000Z</published>
    <updated>2016-11-22T15:09:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯åœ¨ç®€ä¹¦ä¸Šçœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ„Ÿè§‰éå¸¸å¥½ï¼Œå°±è½¬äº†è¿‡æ¥ï¼Œè¿™æ˜¯è€å¤–å†™çš„ï¼Œè¿™ä¸ªä½œè€…ç¿»è¯‘è¿‡æ¥çš„ã€‚ ç»¼åˆä¹‹å‰åœ¨CSDNå†™è¿‡çš„ä¸€ç¯‡ç±»ä¼¼çš„æ–‡ç« [<a href="http://blog.csdn.net/jingbin_/article/details/52818301" target="_blank" rel="external">Android ç®€è¿°äº‹ä»¶åˆ†å‘æœºåˆ¶</a>]ï¼Œå·®ä¸å¤šè¿™ä¸ªçŸ¥è¯†ç‚¹å°±æ¸…æ™°äº†ã€‚</p>
<blockquote>
<p>æˆ‘å‡ ä¹çœ‹è¿‡å›½å†…è®²è§£Androidäº‹ä»¶åˆ†å‘çš„æ‰€æœ‰æ–‡ç« ï¼Œä½†é—æ†¾çš„æ˜¯éƒ½æ²¡æœ‰è¿™ç¯‡è®²çš„å¥½ï¼ŒåŸå› æœ‰äºŒï¼šå®ƒé˜æ˜äº†å…·ä½“çš„äº‹ä»¶åˆ†å‘æœºåˆ¶çš„è®¾è®¡æ„å›¾ï¼Œè®©äººæ—¢çŸ¥å…¶ç„¶ï¼ŒåˆçŸ¥å…¶æ‰€ä»¥ç„¶ï¼›å®ƒæ²¡æœ‰è´´æºç ï¼Œå“å”¬æœ¬å®å®ã€‚æ‰€ä»¥æˆ‘å†³å®šå°†å®ƒç¿»è¯‘å‡ºæ¥ï¼Œé€ ç¦å¹¿å¤§Androidå¼€å‘è€…ã€‚åŸæ–‡è¯·ç‚¹å‡»<a href="http://balpha.de/2013/07/android-development-what-i-wish-i-had-known-earlier/" target="_blank" rel="external">è¿™é‡Œ</a></p>
</blockquote>
<p>æœ‰æ—¶ï¼Œä½ å¿…é¡»è¦è‡ªå·±å¤„ç†è§¦æ‘¸äº‹ä»¶ï¼ˆtouch eventsï¼‰è€Œä¸èƒ½ä¾èµ–äºæœ‰å¯ç”¨çš„onSomethingListenerã€‚æˆ‘å°±é‡åˆ°è¿‡è¿™æ ·çš„æ—¶å€™ï¼Œå½“æ—¶æˆ‘å¾ˆæƒ³æœ‰ä¸€ç¯‡æ–‡ç« èƒ½ç®€å•åœ°è§£é‡Šè§¦æ‘¸äº‹ä»¶æ˜¯æ€æ ·åœ¨è§†å›¾å±‚æ¬¡ï¼ˆview hierarchyï¼‰ä¸­ä¼ æ’­çš„ï¼Œä»è€Œå¯ä»¥å°†ä¹‹ä½œä¸ºè¿›ä¸€æ­¥æ·±å…¥å­¦ä¹ çš„èµ·ç‚¹ã€‚è¿™ç¯‡åšå®¢æ˜¯æˆ‘çš„ä¸€æ¬¡å°è¯•ï¼Œå®ƒçœ‹èµ·æ¥æœ‰ç‚¹é•¿ï¼Œä½†è¿™æ˜¯å› ä¸ºæˆ‘æ˜¯æŒ‰ç…§è§¦æ‘¸äº‹ä»¶çš„ä¼ æ’­è¿‡ç¨‹ä¸€æ­¥ä¸€æ­¥æ¥å†™çš„ã€‚</p>
<h2 id="ä¸€äº›å‡è®¾"><a href="#ä¸€äº›å‡è®¾" class="headerlink" title="ä¸€äº›å‡è®¾"></a>ä¸€äº›å‡è®¾</h2><p>æˆ‘ä»¬åªè€ƒè™‘æœ€é‡è¦çš„å››ä¸ªè§¦æ‘¸äº‹ä»¶ï¼Œå³ï¼š<strong>DOWN,MOVE,UPå’ŒCANCEL</strong>ã€‚<strong>ä¸€ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰</strong>æ˜¯ä¸€ä¸ªäº‹ä»¶åˆ—ï¼Œä»¥ä¸€ä¸ªDOWNäº‹ä»¶å¼€å§‹ï¼ˆå½“ç”¨æˆ·è§¦æ‘¸å±å¹•æ—¶äº§ç”Ÿï¼‰ï¼Œåè·Ÿ0ä¸ªæˆ–å¤šä¸ªMOVEäº‹ä»¶ï¼ˆå½“ç”¨æˆ·å››å¤„ç§»åŠ¨æ‰‹æŒ‡æ—¶äº§ç”Ÿï¼‰ï¼Œæœ€åè·Ÿä¸€ä¸ªå•ç‹¬çš„UPæˆ–CANCELäº‹ä»¶ï¼ˆå½“ç”¨æˆ·æ‰‹æŒ‡ç¦»å¼€å±å¹•æˆ–è€…ç³»ç»Ÿå‘Šè¯‰ä½ æ‰‹åŠ¿ï¼ˆgestureï¼‰ç”±äºå…¶ä»–åŸå› ç»“æŸæ—¶äº§ç”Ÿï¼‰ã€‚å½“æˆ‘ä»¬è¯´åˆ°â€œ<strong>æ‰‹åŠ¿å‰©ä½™éƒ¨åˆ†</strong>â€æ—¶æŒ‡çš„æ˜¯æ‰‹åŠ¿åç»­çš„MOVEäº‹ä»¶å’Œæœ€åçš„UPæˆ–CANCELäº‹ä»¶ã€‚</p>
<a id="more"></a>
<p>åœ¨è¿™é‡Œæˆ‘ä¹Ÿä¸è€ƒè™‘å¤šç‚¹è§¦æ‘¸æ‰‹åŠ¿ï¼ˆæˆ‘ä»¬åªå‡è®¾ç”¨ä¸€ä¸ªæ‰‹æŒ‡ï¼‰å¹¶ä¸”å¿½ç•¥å¤šä¸ªMOVEäº‹ä»¶å¯ä»¥è¢«å½’ä¸ºä¸€ç»„è¿™ä¸€å®é™…æƒ…å†µã€‚æœ€åï¼Œæˆ‘ä»¬å‡è®¾æ–‡ä¸­çš„viewéƒ½æ²¡æœ‰æ³¨å†ŒonTouchListenerã€‚</p>
<p>æˆ‘ä»¬å°†è¦è®¨è®ºçš„è§†å›¾å±‚æ¬¡æ˜¯è¿™æ ·çš„ï¼šæœ€å¤–å±‚æ˜¯ä¸€ä¸ªViewGroup Aï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­viewï¼ˆchildrenï¼‰ï¼Œå…¶ä¸­ä¸€ä¸ªå­viewæ˜¯ViewGroup Bï¼ŒViewGroupBä¸­åˆåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­viewï¼Œå…¶ä¸­ä¸€ä¸ªå­viewæ˜¯ View C,Cä¸æ˜¯ä¸€ä¸ªViewGroupã€‚è¿™é‡Œæˆ‘ä»¬å¿½ç•¥åŒå±‚çº§viewä¹‹é—´å¯èƒ½çš„äº¤å‰å åŠ ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1371984-8cbcd729711f25ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="android-touch.png"></p>
<p>å‡è®¾ç”¨æˆ·é¦–å…ˆè§¦æ‘¸åˆ°çš„å±å¹•ä¸Šçš„ç‚¹æ˜¯Cä¸Šçš„æŸä¸ªç‚¹ï¼Œè¯¥ç‚¹è¢«æ ‡è®°ä¸ºè§¦æ‘¸ç‚¹ï¼ˆtouch pointï¼‰ï¼ŒDOWNäº‹ä»¶å°±åœ¨è¯¥ç‚¹äº§ç”Ÿã€‚ç„¶åç”¨æˆ·ç§»åŠ¨æ‰‹æŒ‡å¹¶æœ€åç¦»å¼€å±å¹•ï¼Œæ­¤è¿‡ç¨‹ä¸­æ‰‹æŒ‡æ˜¯å¦ç¦»å¼€Cçš„åŒºåŸŸæ— å…³ç´§è¦ï¼Œå…³é”®æ˜¯æ‰‹åŠ¿ï¼ˆgestureï¼‰æ˜¯ä»å“ªé‡Œå¼€å§‹çš„ã€‚</p>
<h2 id="é»˜è®¤æƒ…å†µ"><a href="#é»˜è®¤æƒ…å†µ" class="headerlink" title="é»˜è®¤æƒ…å†µ"></a>é»˜è®¤æƒ…å†µ</h2><p>å‡è®¾ä¸Šé¢çš„A,B,Céƒ½æ²¡æœ‰è¦†å†™é»˜è®¤çš„äº‹ä»¶ä¼ æ’­è¡Œä¸ºï¼Œé‚£ä¹ˆä¸‹é¢å°±æ˜¯äº‹ä»¶ä¼ æ’­çš„è¿‡ç¨‹ï¼š</p>
<ul>
<li>DOWNäº‹ä»¶è¢«ä¼ åˆ°Cçš„onTouchEventæ–¹æ³•ä¸­ï¼Œè¯¥æ–¹æ³•è¿”å›falseï¼Œè¡¨ç¤ºâ€œæˆ‘ä¸å…³å¿ƒè¿™ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰â€ã€‚</li>
<li>å› æ­¤ï¼ŒDOWNäº‹ä»¶è¢«ä¼ åˆ°Bçš„onTouchEventæ–¹æ³•ä¸­ï¼Œè¯¥æ–¹æ³•åŒæ ·è¿”å›falseï¼Œè¡¨ç¤ºBä¹Ÿä¸å…³å¿ƒè¿™ä¸ªæ‰‹åŠ¿ã€‚</li>
<li>åŒæ ·ï¼Œå› ä¸ºBä¸å…³å¿ƒè¿™ä¸ªæ‰‹åŠ¿ï¼ŒDOWNäº‹ä»¶è¢«ä¼ åˆ°Açš„onTouchEventæ–¹æ³•ä¸­ï¼Œè¯¥æ–¹æ³•ä¹Ÿè¿”å›falseã€‚</li>
</ul>
<p>ç”±äºæ²¡æœ‰viewå…³å¿ƒè¿™ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰ï¼Œå®ƒä»¬å°†ä¸å†ä¼šä»â€œæ‰‹åŠ¿å‰©ä½™éƒ¨åˆ†â€ä¸­æ¥æ”¶ä»»ä½•äº‹ä»¶ã€‚</p>
<h2 id="å¤„ç†äº‹ä»¶"><a href="#å¤„ç†äº‹ä»¶" class="headerlink" title="å¤„ç†äº‹ä»¶"></a>å¤„ç†äº‹ä»¶</h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å‡è®¾Cå®é™…ä¸Šæ˜¯å…³å¿ƒè¿™ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰çš„ï¼ŒåŸå› å¯èƒ½æ˜¯Cè¢«è®¾ç½®æˆå¯ç‚¹å‡»çš„ï¼ˆclickableï¼‰æˆ–è€…ä½ è¦†å†™äº†Cçš„onTouchEventæ–¹æ³•ã€‚</p>
<ul>
<li>DOWNäº‹ä»¶è¢«ä¼ é€’ç»™Cçš„onTouchEventæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥åšä»»ä½•å®ƒæƒ³åšçš„äº‹æƒ…ï¼Œæœ€åè¿”å›trueã€‚</li>
<li>å› ä¸ºCè¯´å®ƒæ­£åœ¨å¤„ç†è¿™ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰ï¼Œåˆ™DOWNäº‹ä»¶å°†ä¸å†è¢«ä¼ é€’ç»™Bå’ŒAçš„onTouchEventæ–¹æ³•ã€‚</li>
<li>å› ä¸ºCè¯´å®ƒæ­£åœ¨å¤„ç†è¿™ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰ï¼Œæ‰€ä»¥â€œæ‰‹åŠ¿å‰©ä½™éƒ¨åˆ†â€çš„äº‹ä»¶ä¹Ÿå°†ä¼ é€’ç»™Cçš„onTouchEventæ–¹æ³•ï¼Œæ­¤æ—¶è¯¥æ–¹æ³•è¿”å›trueæˆ–falseéƒ½æ— å…³ç´§è¦äº†ï¼Œä½†æ˜¯ä¸ºä¿æŒä¸€è‡´æœ€å¥½è¿˜æ˜¯è¿”å›trueã€‚</li>
</ul>
<p><strong>ä¸ªäººç†è§£</strong>ï¼šä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œå„ä¸ªViewçš„onTouchEventæ–¹æ³•å¯¹DOWNäº‹ä»¶çš„å¤„ç†ï¼Œä»£è¡¨äº†è¯¥Viewå¯¹ä»¥æ­¤DOWNå¼€å§‹çš„æ•´ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰çš„å¤„ç†æ„æ„¿ï¼Œè¿”å›trueä»£è¡¨æ„¿æ„å¤„ç†è¯¥gestureï¼Œè¿”å›falseä»£è¡¨ä¸æ„¿æ„å¤„ç†è¯¥gestureã€‚</p>
<h2 id="onInterceptTouchEvent"><a href="#onInterceptTouchEvent" class="headerlink" title="onInterceptTouchEvent"></a>onInterceptTouchEvent</h2><p>ç°åœ¨æˆ‘ä»¬å°†è®¨è®ºä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼šonInterceptTouchEventï¼Œå®ƒåªå­˜åœ¨äºViewGroupä¸­ï¼Œæ™®é€šçš„Viewä¸­æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚åœ¨ä»»ä½•ä¸€ä¸ªviewçš„onTouchEventè¢«è°ƒç”¨ä¹‹å‰ï¼Œå®ƒçš„çˆ¶è¾ˆä»¬ï¼ˆancestorsï¼‰å°†å…ˆè·å¾—æ‹¦æˆªè¿™ä¸ªäº‹ä»¶çš„ä¸€æ¬¡æœºä¼šï¼Œæ¢å¥è¯è¯´ï¼Œå®ƒä»¬å¯ä»¥çªƒå–è¯¥äº‹ä»¶ã€‚åœ¨åˆšæ‰çš„â€œå¤„ç†äº‹ä»¶â€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬é—æ¼äº†è¿™ä¸€è¿‡ç¨‹ï¼Œç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠå®ƒåŠ ä¸Šï¼š</p>
<ul>
<li>DOWNäº‹ä»¶è¢«ä¼ ç»™Açš„onInterceptTouchEventï¼Œè¯¥æ–¹æ³•è¿”å›falseï¼Œè¡¨ç¤ºå®ƒä¸æƒ³æ‹¦æˆªã€‚</li>
<li>DOWNåˆè¢«ä¼ é€’ç»™Bçš„onInterceptTouchEventï¼Œå®ƒä¹Ÿä¸æƒ³æ‹¦æˆªï¼Œå› æ­¤è¯¥æ–¹æ³•ä¹Ÿè¿”å›falseã€‚</li>
<li>ç°åœ¨ï¼ŒDOWNäº‹ä»¶è¢«ä¼ é€’åˆ°Cçš„onTouchEventæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›trueï¼Œå› ä¸ºå®ƒæƒ³å¤„ç†ä»¥è¯¥äº‹ä»¶ä¸ºé¦–çš„æ‰‹åŠ¿ï¼ˆgestureï¼‰ã€‚</li>
<li>ç°åœ¨ï¼Œè¯¥æ‰‹åŠ¿çš„ä¸‹ä¸€ä¸ªäº‹ä»¶MOVEåˆ°æ¥äº†ã€‚è¿™ä¸ªMOVEäº‹ä»¶å†ä¸€æ¬¡è¢«ä¼ é€’ç»™Açš„onInterceptTouchEventæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å†ä¸€æ¬¡è¿”å›falseï¼ŒBä¹ŸåŒæ ·å¦‚æ­¤ã€‚</li>
<li>ç„¶åï¼ŒMOVEäº‹ä»¶è¢«ä¼ é€’ç»™Cçš„onTouchEventï¼Œå°±åƒåœ¨å‰ä¸€éƒ¨åˆ†ä¸­ä¸€æ ·ã€‚</li>
<li>â€œæ‰‹åŠ¿å‰©ä½™éƒ¨åˆ†â€ä¸­å…¶ä»–äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹å’Œä¸Šé¢ä¸€æ ·ï¼Œå‡å¦‚Aå’ŒBçš„onInterceptTouchEventæ–¹æ³•ç»§ç»­è¿”å›falseçš„è¯ã€‚</li>
</ul>
<p>è¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>è™½ç„¶ViewGroup Aå’ŒBçš„onInterceptTouchEventæ–¹æ³•å¯¹DOWNäº‹ä»¶è¿”å›äº†falseï¼Œåç»­çš„äº‹ä»¶ä¾ç„¶ä¼šä¼ é€’ç»™å®ƒä»¬çš„onInterceptTouchEventæ–¹æ³•ï¼Œè¿™ä¸€ç‚¹ä¸onTouchEventçš„è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚</li>
<li>å‡å¦‚DOWNäº‹ä»¶ä¼ ç»™Cçš„onTouchEventæ–¹æ³•æ—¶ï¼Œå®ƒè¿”å›äº†falseï¼ŒDOWNäº‹ä»¶ä¼šç»§ç»­å‘ä¸Šä¼ é€’ç»™Bå’ŒAçš„onTouchEventï¼Œå³ä½¿å®ƒä»¬åœ¨onInterceptTouchEventæ–¹æ³•ä¸­è¯´å®ƒä»¬ä¸æƒ³æ‹¦æˆªè¿™ä¸ªDOWNäº‹ä»¶ï¼Œä½†æ²¡åŠæ³•ï¼Œæ²¡æœ‰å­Viewæ„¿æ„å¤„ç†è¯¥äº‹ä»¶ã€‚</li>
</ul>
<p><strong>ä¸ªäººç†è§£</strong>ï¼šæ„Ÿè°¢@ç¼–ç¨‹ä¸–ç•Œçš„å­©å­ çš„æé†’ï¼Œç”±æ­¤å¯è§ï¼ŒDOWNäº‹ä»¶çš„å¤„ç†å®é™…ä¸Šç»å†äº†ä¸€ä¸‹ä¸€ä¸Šä¸¤ä¸ªè¿‡ç¨‹ï¼Œä¸‹æ˜¯æŒ‡A-&gt;Bçš„onInterceptTouchEventï¼Œä¸Šæ˜¯æŒ‡C-&gt;B-&gt;Açš„onTouchEventï¼Œå½“ç„¶ï¼Œä»»æ„ä¸€æ­¥çš„æ–¹æ³•ä¸­è¿”å›true,éƒ½èƒ½é˜»æ­¢å®ƒç»§ç»­ä¼ æ’­ã€‚</p>
<h2 id="æ‹¦æˆªäº‹ä»¶"><a href="#æ‹¦æˆªäº‹ä»¶" class="headerlink" title="æ‹¦æˆªäº‹ä»¶"></a>æ‹¦æˆªäº‹ä»¶</h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ï¼Œå‡è®¾Bæ²¡æœ‰æ‹¦æˆªDOWNäº‹ä»¶ï¼Œä½†å®ƒæ‹¦æˆªäº†æ¥ä¸‹æ¥çš„MOVEäº‹ä»¶ã€‚åŸå› å¯èƒ½æ˜¯Bæ˜¯ä¸€ä¸ªscrolling viewã€‚å½“ç”¨æˆ·ä»…ä»…åœ¨å®ƒçš„åŒºåŸŸå†…ç‚¹å‡»ï¼ˆtapï¼‰æ—¶ï¼Œè¢«ç‚¹å‡»åˆ°çš„å…ƒç´ åº”å½“èƒ½å¤„ç†è¯¥ç‚¹å‡»äº‹ä»¶ã€‚ä½†æ˜¯å½“ç”¨æˆ·æ‰‹æŒ‡ç§»åŠ¨äº†ä¸€å®šçš„è·ç¦»åï¼Œå°±ä¸èƒ½å†è§†è¯¥æ‰‹åŠ¿ï¼ˆgestureï¼‰ä¸ºç‚¹å‡»äº†â€”â€”å¾ˆæ˜æ˜¾ï¼Œç”¨æˆ·æ˜¯æƒ³scrollã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆBè¦æ¥ç®¡è¯¥æ‰‹åŠ¿ï¼ˆgestureï¼‰ã€‚</p>
<p>ä¸‹é¢æ˜¯äº‹ä»¶è¢«å¤„ç†çš„é¡ºåºï¼š</p>
<ul>
<li>DOWNäº‹ä»¶è¢«ä¾æ¬¡ä¼ åˆ°Aå’ŒBçš„onInterceptTouchEventæ–¹æ³•ä¸­ï¼Œå®ƒä»¬éƒ½è¿”å›çš„falseï¼Œå› ä¸ºå®ƒä»¬ç›®å‰è¿˜ä¸æƒ³æ‹¦æˆªã€‚</li>
<li>DOWNäº‹ä»¶ä¼ é€’åˆ°Cçš„onTouchEventæ–¹æ³•ï¼Œè¿”å›äº†trueã€‚</li>
<li>åœ¨åç»­åˆ°æ¥MOVEäº‹ä»¶æ—¶ï¼ŒAçš„onInterceptTouchEventæ–¹æ³•ä»ç„¶è¿”å›falseã€‚</li>
<li>Bçš„onInterceptTouchEventæ–¹æ³•æ”¶åˆ°äº†è¯¥MOVEäº‹ä»¶ï¼Œæ­¤æ—¶Bæ³¨æ„åˆ°ç”¨æˆ·æ‰‹æŒ‡ç§»åŠ¨è·ç¦»å·²ç»è¶…è¿‡äº†ä¸€å®šçš„thresholdï¼ˆæˆ–è€…ç§°ä¸ºslopï¼‰ã€‚å› æ­¤ï¼ŒBçš„onInterceptTouchEventæ–¹æ³•å†³å®šè¿”å›trueï¼Œä»è€Œæ¥ç®¡è¯¥æ‰‹åŠ¿ï¼ˆgestureï¼‰åç»­çš„å¤„ç†ã€‚</li>
<li>ç„¶åï¼Œè¿™ä¸ªMOVEäº‹ä»¶å°†ä¼šè¢«ç³»ç»Ÿå˜æˆä¸€ä¸ªCANCELäº‹ä»¶ï¼Œè¿™ä¸ªCANCELäº‹ä»¶å°†ä¼šä¼ é€’ç»™Cçš„onTouchEventæ–¹æ³•ã€‚</li>
<li>ç°åœ¨ï¼Œåˆæ¥äº†ä¸€ä¸ªMOVEäº‹ä»¶ï¼Œå®ƒè¢«ä¼ é€’ç»™Açš„onInterceptTouchEventæ–¹æ³•ï¼ŒAè¿˜æ˜¯ä¸å…³å¿ƒè¯¥äº‹ä»¶ï¼Œå› æ­¤onInterceptTouchEventæ–¹æ³•ç»§ç»­è¿”å›falseã€‚</li>
<li>æ­¤æ—¶ï¼Œè¯¥MOVEäº‹ä»¶å°†ä¸ä¼šå†ä¼ é€’ç»™Bçš„onInterceptTouchEventæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸€æ—¦è¿”å›ä¸€æ¬¡trueï¼Œå°±å†ä¹Ÿä¸ä¼šè¢«è°ƒç”¨äº†ã€‚äº‹å®ä¸Šï¼Œè¯¥MOVEä»¥åŠâ€œæ‰‹åŠ¿å‰©ä½™éƒ¨åˆ†â€éƒ½å°†ä¼ é€’ç»™Bçš„onTouchEventæ–¹æ³•ï¼ˆé™¤éAå†³å®šæ‹¦æˆªâ€œæ‰‹åŠ¿å‰©ä½™éƒ¨åˆ†â€ï¼‰ã€‚</li>
<li><p>Cå†ä¹Ÿä¸ä¼šæ”¶åˆ°è¯¥æ‰‹åŠ¿ï¼ˆgestureï¼‰äº§ç”Ÿçš„ä»»ä½•äº‹ä»¶äº†ã€‚</p>
<p>ä¸‹é¢çš„ä¸€äº›å°äº‹æƒ…å¯èƒ½ä¼šä»¤ä½ æ„Ÿåˆ°åƒæƒŠï¼š</p>
</li>
<li><p>å¦‚æœä¸€ä¸ªViewGroupæ‹¦æˆªäº†æœ€åˆçš„DOWNäº‹ä»¶ï¼Œè¯¥äº‹ä»¶ä»ç„¶ä¼šä¼ é€’åˆ°è¯¥ViewGroupçš„onTouchEventæ–¹æ³•ä¸­ã€‚</p>
</li>
<li>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœViewGroupæ‹¦æˆªäº†ä¸€ä¸ªåŠè·¯çš„äº‹ä»¶ï¼ˆæ¯”å¦‚ï¼ŒMOVEï¼‰ï¼Œè¿™ä¸ªäº‹ä»¶å°†ä¼šè¢«ç³»ç»Ÿå˜æˆä¸€ä¸ªCANCELäº‹ä»¶ï¼Œå¹¶ä¼ é€’ç»™ä¹‹å‰å¤„ç†è¯¥æ‰‹åŠ¿ï¼ˆgestureï¼‰çš„å­Viewï¼Œè€Œä¸”ä¸ä¼šå†ä¼ é€’ï¼ˆæ— è®ºæ˜¯è¢«æ‹¦æˆªçš„MOVEè¿˜æ˜¯ç³»ç»Ÿç”Ÿæˆçš„CANCELï¼‰ç»™ViewGroupçš„onTouchEventæ–¹æ³•ã€‚åªæœ‰å†åˆ°æ¥çš„äº‹ä»¶æ‰ä¼šä¼ é€’åˆ°ViewGroupçš„onTouchEventæ–¹æ³•ä¸­ã€‚</li>
</ul>
<p>ä»æ­¤å¼€å§‹ï¼Œä½ å¯ä»¥æ›´è¿›ä¸€æ­¥ã€‚æ¯”å¦‚å¯¹mouthful-method ï¼ˆå®åœ¨ä¸çŸ¥é“è¯¥æ€ä¹ˆç¿»è¯‘å•¦ï¼ï¼‰requestDisallowInterceptTouchEvent,Cå¯ä»¥ç”¨è¯¥æ–¹æ³•é˜»æ­¢Bçªƒå–äº‹ä»¶ã€‚å¦‚æœä½ æƒ³æ›´åŠ ç–¯ç‹‚ä¸€ç‚¹ï¼Œä½ å¯ä»¥åœ¨ä½ è‡ªå·±çš„ViewGroupä¸­ç›´æ¥è¦†å†™dispatchTouchEventæ–¹æ³•ï¼Œå¹¶å¯¹ä¼ é€’è¿›æ¥çš„äº‹ä»¶åšä»»ä½•ä½ æƒ³åšçš„å¤„ç†ã€‚ä½†è¿™æ ·çš„è¯ä½ å¯èƒ½ä¼šç ´åä¸€äº›çº¦å®šï¼Œæ‰€ä»¥åº”å½“å°å¿ƒã€‚</p>
<p>æ–‡ï¼milterï¼ˆç®€ä¹¦ä½œè€…)<br>åŸæ–‡é“¾æ¥ï¼š<a href="http://www.jianshu.com/p/2be492c1df96" target="_blank" rel="external">http://www.jianshu.com/p/2be492c1df96</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯åœ¨ç®€ä¹¦ä¸Šçœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ„Ÿè§‰éå¸¸å¥½ï¼Œå°±è½¬äº†è¿‡æ¥ï¼Œè¿™æ˜¯è€å¤–å†™çš„ï¼Œè¿™ä¸ªä½œè€…ç¿»è¯‘è¿‡æ¥çš„ã€‚ ç»¼åˆä¹‹å‰åœ¨CSDNå†™è¿‡çš„ä¸€ç¯‡ç±»ä¼¼çš„æ–‡ç« [&lt;a href=&quot;http://blog.csdn.net/jingbin_/article/details/52818301&quot;&gt;Android ç®€è¿°äº‹ä»¶åˆ†å‘æœºåˆ¶&lt;/a&gt;]ï¼Œå·®ä¸å¤šè¿™ä¸ªçŸ¥è¯†ç‚¹å°±æ¸…æ™°äº†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘å‡ ä¹çœ‹è¿‡å›½å†…è®²è§£Androidäº‹ä»¶åˆ†å‘çš„æ‰€æœ‰æ–‡ç« ï¼Œä½†é—æ†¾çš„æ˜¯éƒ½æ²¡æœ‰è¿™ç¯‡è®²çš„å¥½ï¼ŒåŸå› æœ‰äºŒï¼šå®ƒé˜æ˜äº†å…·ä½“çš„äº‹ä»¶åˆ†å‘æœºåˆ¶çš„è®¾è®¡æ„å›¾ï¼Œè®©äººæ—¢çŸ¥å…¶ç„¶ï¼ŒåˆçŸ¥å…¶æ‰€ä»¥ç„¶ï¼›å®ƒæ²¡æœ‰è´´æºç ï¼Œå“å”¬æœ¬å®å®ã€‚æ‰€ä»¥æˆ‘å†³å®šå°†å®ƒç¿»è¯‘å‡ºæ¥ï¼Œé€ ç¦å¹¿å¤§Androidå¼€å‘è€…ã€‚åŸæ–‡è¯·ç‚¹å‡»&lt;a href=&quot;http://balpha.de/2013/07/android-development-what-i-wish-i-had-known-earlier/&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œä½ å¿…é¡»è¦è‡ªå·±å¤„ç†è§¦æ‘¸äº‹ä»¶ï¼ˆtouch eventsï¼‰è€Œä¸èƒ½ä¾èµ–äºæœ‰å¯ç”¨çš„onSomethingListenerã€‚æˆ‘å°±é‡åˆ°è¿‡è¿™æ ·çš„æ—¶å€™ï¼Œå½“æ—¶æˆ‘å¾ˆæƒ³æœ‰ä¸€ç¯‡æ–‡ç« èƒ½ç®€å•åœ°è§£é‡Šè§¦æ‘¸äº‹ä»¶æ˜¯æ€æ ·åœ¨è§†å›¾å±‚æ¬¡ï¼ˆview hierarchyï¼‰ä¸­ä¼ æ’­çš„ï¼Œä»è€Œå¯ä»¥å°†ä¹‹ä½œä¸ºè¿›ä¸€æ­¥æ·±å…¥å­¦ä¹ çš„èµ·ç‚¹ã€‚è¿™ç¯‡åšå®¢æ˜¯æˆ‘çš„ä¸€æ¬¡å°è¯•ï¼Œå®ƒçœ‹èµ·æ¥æœ‰ç‚¹é•¿ï¼Œä½†è¿™æ˜¯å› ä¸ºæˆ‘æ˜¯æŒ‰ç…§è§¦æ‘¸äº‹ä»¶çš„ä¼ æ’­è¿‡ç¨‹ä¸€æ­¥ä¸€æ­¥æ¥å†™çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€äº›å‡è®¾&quot;&gt;&lt;a href=&quot;#ä¸€äº›å‡è®¾&quot; class=&quot;headerlink&quot; title=&quot;ä¸€äº›å‡è®¾&quot;&gt;&lt;/a&gt;ä¸€äº›å‡è®¾&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬åªè€ƒè™‘æœ€é‡è¦çš„å››ä¸ªè§¦æ‘¸äº‹ä»¶ï¼Œå³ï¼š&lt;strong&gt;DOWN,MOVE,UPå’ŒCANCEL&lt;/strong&gt;ã€‚&lt;strong&gt;ä¸€ä¸ªæ‰‹åŠ¿ï¼ˆgestureï¼‰&lt;/strong&gt;æ˜¯ä¸€ä¸ªäº‹ä»¶åˆ—ï¼Œä»¥ä¸€ä¸ªDOWNäº‹ä»¶å¼€å§‹ï¼ˆå½“ç”¨æˆ·è§¦æ‘¸å±å¹•æ—¶äº§ç”Ÿï¼‰ï¼Œåè·Ÿ0ä¸ªæˆ–å¤šä¸ªMOVEäº‹ä»¶ï¼ˆå½“ç”¨æˆ·å››å¤„ç§»åŠ¨æ‰‹æŒ‡æ—¶äº§ç”Ÿï¼‰ï¼Œæœ€åè·Ÿä¸€ä¸ªå•ç‹¬çš„UPæˆ–CANCELäº‹ä»¶ï¼ˆå½“ç”¨æˆ·æ‰‹æŒ‡ç¦»å¼€å±å¹•æˆ–è€…ç³»ç»Ÿå‘Šè¯‰ä½ æ‰‹åŠ¿ï¼ˆgestureï¼‰ç”±äºå…¶ä»–åŸå› ç»“æŸæ—¶äº§ç”Ÿï¼‰ã€‚å½“æˆ‘ä»¬è¯´åˆ°â€œ&lt;strong&gt;æ‰‹åŠ¿å‰©ä½™éƒ¨åˆ†&lt;/strong&gt;â€æ—¶æŒ‡çš„æ˜¯æ‰‹åŠ¿åç»­çš„MOVEäº‹ä»¶å’Œæœ€åçš„UPæˆ–CANCELäº‹ä»¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://jingbin.me/categories/Android/"/>
    
    
      <category term="Android" scheme="http://jingbin.me/tags/Android/"/>
    
      <category term="AndroidåŸºç¡€çŸ¥è¯†ç‚¹" scheme="http://jingbin.me/tags/Android%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>Macæ­å»ºHexoåšå®¢æµç¨‹è®°å½•ï¼Œæ’é›·å®Œæˆ</title>
    <link href="http://jingbin.me/2016/11/19/Mac%E6%90%AD%E5%BB%BAHexo%E5%8D%9A%E5%AE%A2%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95%EF%BC%8C%E6%8E%92%E9%9B%B7%E5%AE%8C%E6%88%90/"/>
    <id>http://jingbin.me/2016/11/19/Macæ­å»ºHexoåšå®¢æµç¨‹è®°å½•ï¼Œæ’é›·å®Œæˆ/</id>
    <published>2016-11-18T19:02:13.000Z</published>
    <updated>2016-11-20T17:42:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç»è¿‡ä¸€å¤©çš„è¾›è‹¦ä½œæˆ˜ï¼Œæ€»ç®—åŸºç¡€çš„ä¸œè¥¿å‡ºæ¥äº†ã€‚è¸©äº†å¤ªå¤šçš„å‘ï¼Œç»¼åˆæˆ‘è¸©å‘çš„ç»è¿‡ï¼Œæ˜ç™½åˆ°ï¼Œé€‰å¥½ä¸€ç¯‡å¼•å¯¼æ–‡å¾ˆé‡è¦ï¼æœ‰äº›æ­¥éª¤ä¸è¦å…ˆåšäº†ï¼Œä¸ç„¶åé¢ä¼šæŠŠä½ å‘çš„å¾ˆæƒ¨..</p>
<h2 id="å¼•"><a href="#å¼•" class="headerlink" title="å¼•"></a>å¼•</h2><p>å¾ˆå¤šåšå®¢éƒ½å·²ç»è¯¦ç»†è®²è¿°äº†Hexoåšå®¢æ¡†æ¶çš„å¥½å¤„å’Œæ€ä¹ˆåšï¼Œä¸‹é¢çš„<a href="#jump">æ¨èæ–‡ç« </a>é‡Œä¼šç»™å‡ºé“¾æ¥ã€‚ä½†æœ‰äº›è¿‡äºå¤æ‚ï¼Œè®©åˆæ¬¡é…ç½®çš„äººæœ‰ç‚¹é›¨é‡Œé›¾é‡Œï¼›æœ‰äº›åˆå¤ªç®€å•ï¼Œå‡ºäº†é—®é¢˜å°±ä¼šä¸çŸ¥é“æ€ä¹ˆå›äº‹ã€‚ä¸‹é¢æ˜¯è‡ªå·±çš„æ­å»ºè®°å½•ï¼ŒåŠ<a href="#ask">æ‰€é‡é—®é¢˜çš„è§£å†³</a>ã€‚</p>
<p>åœ¨æ­¤æ„Ÿè°¢<a href="https://madongqiang2201.github.io/" target="_blank" rel="external">å°é©¬å“¥Mark</a>å’Œ <a href="http://wingjay.com/" target="_blank" rel="external">wingjay</a>å…ˆå‰åˆ†äº«çš„æ•™ç¨‹ï¼Œæœ‰äº›æ®µè½æ˜¯ä»ä½ ä»¬é‡Œæ¬è¿è¿‡æ¥çš„ï¼Œå¸Œæœ›åšä¸»è§è°…ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘åˆ é™¤ã€‚</p>
<p>Okï¼Œç°åœ¨å¼€å§‹ï¼š</p>
<a id="more"></a>
<h2 id="GitHub-Pages"><a href="#GitHub-Pages" class="headerlink" title="GitHub Pages"></a>GitHub Pages</h2><p>åœ¨ä¸è´­ä¹°æœåŠ¡å™¨çš„å‰æä¸‹ï¼Œæˆ‘ä»¬çš„ç½‘ç«™éœ€è¦æŒ‚åœ¨GitHub Pagesä¸Šã€‚GitHub Pagesæ˜¯é¢å‘ç”¨æˆ·ã€ç»„ç»‡å’Œé¡¹ç›®å¼€æ”¾çš„å…¬å…±é™æ€é¡µé¢æ­å»ºæ‰˜ç®¡æœåŠ¡ï¼Œå¯ç”¨äºæ­å»ºä¸ªäººåšå®¢ã€‚</p>
<ul>
<li>é¦–å…ˆä½ éœ€è¦æ‹¥æœ‰ä¸€ä¸ª<a href="https://github.com/" target="_blank" rel="external">GitHub</a>è´¦å·ã€‚</li>
<li>ç„¶åè¿›å…¥<a href="https://pages.github.com/" target="_blank" rel="external">GitHub Pages</a>ï¼Œä¸€æ­¥æ­¥åšï¼Œå®Œæˆåå°±èƒ½åœ¨æµè§ˆå™¨æ‰“å¼€<code>http://username.github.io</code>äº†ã€‚</li>
</ul>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»åˆ©ç”¨GitHub Pagesæ­å»ºå¥½äº†ä¸ªäººåšå®¢é›å½¢äº†ã€‚ä¸‹é¢è¦åšçš„ï¼Œå°±æ˜¯ä¸ªæ€§åŒ–äº†ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä½ <code>http://username.github.io</code>é¦–é¡µå°±è¦æ˜¯åšå®¢é¦–é¡µçš„è¯ï¼Œå»ºè®®åˆæ¬¡é…ç½®é€‰æ‹©é¦–é¡µï¼Œå°±æ˜¯<a href="http://jingbin.me">è¿™æ ·</a>ã€‚å®Œæˆåå¯ä»¥æŠŠ<code>index.html</code>ç»™åˆ äº†ï¼Œå› ä¸ºåˆ°æœ€åä½ å‘ç°é‚£æ˜¯æ²¡ç”¨çš„ï¼Œå®ƒå°†ä¼šç»™ä½ é€ æˆå¹²æ‰°ã€‚</p>
</blockquote>
<h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><h3 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h3><p>å‚è€ƒ<a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="external">ä¸­æ–‡æ–‡æ¡£</a>æˆ–<a href="https://hexo.io/docs/" target="_blank" rel="external">è‹±æ–‡æ–‡æ¡£</a>ã€‚å®Œæˆè¯¥æ­¥åï¼Œä½ çš„ç”µè„‘ä¾¿æ‹¥æœ‰äº†Gitã€Node.jså’ŒHexoã€‚</p>
<h3 id="æµ‹è¯•å®‰è£…çŠ¶æ€"><a href="#æµ‹è¯•å®‰è£…çŠ¶æ€" class="headerlink" title="æµ‹è¯•å®‰è£…çŠ¶æ€"></a>æµ‹è¯•å®‰è£…çŠ¶æ€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ node -v</div><div class="line"> v4.2.4</div><div class="line"></div><div class="line">$ npm -v</div><div class="line"><span class="number">2.14</span>.12</div><div class="line"></div><div class="line">$ hexo -v</div></pre></td></tr></table></figure>
<h2 id="æ­£å¼å¼€å§‹"><a href="#æ­£å¼å¼€å§‹" class="headerlink" title="æ­£å¼å¼€å§‹"></a>æ­£å¼å¼€å§‹</h2><p>ç¡®å®šæ‹¥æœ‰äº†Gitã€Node.jså’ŒHexoåï¼Œè¿›è¡Œä¸‹ä¸€æ­¥ï¼š</p>
<h3 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h3><p>å®‰è£… Hexo å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ hexo init &lt;folder&gt;</div><div class="line">$ cd &lt;folder&gt;</div><div class="line">$ npm install</div></pre></td></tr></table></figure>
<p> æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">â”œâ”€â”€ _config.yml</div><div class="line">â”œâ”€â”€ package.json</div><div class="line">â”œâ”€â”€ scaffolds</div><div class="line">â”œâ”€â”€ source</div><div class="line">|   â”œâ”€â”€ _drafts</div><div class="line">|   â””â”€â”€ _posts</div><div class="line">â””â”€â”€ themes</div></pre></td></tr></table></figure>
<p>è¿™æ ·Hexoä¼šåœ¨è¯¥æ–‡ä»¶å¤¹åˆ›å»ºæœ¬åœ°åšå®¢æ‰€éœ€çš„ä¸€åˆ‡èµ„æºã€‚è¿™æ ·æœ¬åœ°åšå®¢å°±æ­å»ºå¥½äº†ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo s --debug <span class="comment">// å¯åŠ¨æœ¬åœ°hexo æœåŠ¡å™¨ï¼Œé»˜è®¤localhost:4000å¯ä»¥è®¿é—®ï¼Œå¯ä»¥çœ‹åˆ°è°ƒè¯•ä¿¡æ¯</span></div></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¼€å¯äº†ä¸€ä¸ªæœ¬åœ°åšå®¢æœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ è¾“å…¥<code>localhost:4000</code>ï¼Œå°±å¯ä»¥æŸ¥çœ‹æœ¬åœ°åšå®¢äº†ï¼Œhexoé»˜è®¤ç”Ÿæˆäº†ä¸€ç‰‡hello worldåšå®¢ã€‚å‡ºç°é—®é¢˜å¯ä»¥çœ‹terminalç»ˆç«¯é”™è¯¯ä¿¡æ¯ã€‚æŒ‰<code>control + c</code>å…³é—­è°ƒè¯•ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä»¥ä¸Šhexoå¼€å¤´çš„å‘½ä»¤ï¼Œæ‰§è¡Œç›®å½•å¿…é¡»æ˜¯ä½ åˆ›å»ºçš„åšå®¢æ–‡ä»¶å¤¹ç›®å½•ã€‚ä½¿ç”¨hexo s ä¹Ÿå¯ä»¥ï¼Œåªæ˜¯æ²¡æœ‰äº†è°ƒè¯•ä¿¡æ¯ã€‚</p>
</blockquote>
<h3 id="åŒæ­¥Hexoåšå®¢åˆ°Github"><a href="#åŒæ­¥Hexoåšå®¢åˆ°Github" class="headerlink" title="åŒæ­¥Hexoåšå®¢åˆ°Github"></a>åŒæ­¥Hexoåšå®¢åˆ°Github</h3><p>ç°åœ¨ä½ å·²ç»å¯ä»¥åœ¨æœ¬æœºæŸ¥çœ‹ä½ çš„åšå®¢äº†ï¼Œä½†æ˜¯è¦æƒ³è®©åˆ«äººé€šè¿‡ç½‘ç»œå¯ä»¥æŸ¥çœ‹ä½ çš„åšå®¢ï¼Œè¿˜éœ€è¦ä¸€æ­¥ï¼Œé‚£å°±æ˜¯å°†ä½ çš„åšå®¢å‘å¸ƒåˆ°githubä»“åº“ã€‚åœ¨terminalç»ˆç«¯ï¼Œå°†å½“å‰ç›®å½•åˆ‡æ¢åˆ°ä½ çš„æœ¬åœ°åšå®¢ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure>
<p>å®‰è£…å®Œæˆä¹‹åï¼Œæ‰“å¼€æœ¬åœ°åšå®¢ç›®å½•çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œç¼–è¾‘å…¶ä¸­çš„<code>deploy</code>èŠ‚ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repo: https:<span class="comment">//github.com/youlookwhat/youlookwhat.github.io.git</span></div><div class="line">  branch: master</div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šå­—æ®µå‰éœ€åŠ ç©ºæ ¼ï¼Œhexoæœ‰ä¸¥æ ¼çš„æ ¼å¼è§„èŒƒã€‚</p>
</blockquote>
<p>ä¿å­˜é…ç½®ä¹‹åï¼Œä½ å¯ä»¥ä¸ç€æ€¥ä¼ åˆ°ä»“åº“ï¼Œå…ˆåˆ·æ–°æœ¬åœ°åšå®¢ï¼Œçœ‹æ˜¯å¦è¿˜æ˜¯åŸæ ·ï¼Œå¦‚æœ‰é—®é¢˜å¯ä»¥çœ‹åˆ°terminalç»ˆç«¯ä¸Šçš„é”™è¯¯ä¿¡æ¯ï¼Œç„¶åæ£€æŸ¥æ²¡é—®é¢˜ä¸ºæ­¢ã€‚</p>
<p>ç¡®è®¤æ— è¯¯ä¹‹åï¼Œåœ¨æœ¬åœ°åšå®¢ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo clean <span class="comment">// cleanæœ¬åœ°é¡¹ç›®ï¼Œé˜²æ­¢ç¼“å­˜</span></div><div class="line">hexo g <span class="comment">// å…¨æ‹¼æ˜¯ï¼šhexo generateï¼Œå¯ä»¥ç®€å†™æˆ hexo g; æ ¹æ®ä½ ç¼–è¾‘çš„mdæ ¼å¼çš„åšå®¢ï¼Œç”Ÿæˆé™æ€ç½‘é¡µ</span></div><div class="line">hexo d  <span class="comment">// å…¨æ‹¼æ˜¯ï¼šhexo deployï¼Œå¯ä»¥ç®€å†™æˆ hexo d; å°†æœ¬åœ°åšå®¢å‘å¸ƒåˆ°github</span></div></pre></td></tr></table></figure>
<p>ç„¶åï¼Œåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥<code>username.github.io</code>å°±å¯ä»¥è®¿é—®ä½ çš„åšå®¢äº†ï¼Œåˆ«äººä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®ä½ çš„åšå®¢ã€‚å¦‚æœé”™è¯¯è¯·é‡å¤çœ‹ä»¥å‰æµç¨‹ï¼Œæˆ–å‚è€ƒå…¶ä»–æ–‡ç« ï¼Œä¹Ÿå¯ä»¥<a href="#here">è”ç³»æˆ‘</a>.</p>
<h2 id="NexTä¸»é¢˜é…ç½®"><a href="#NexTä¸»é¢˜é…ç½®" class="headerlink" title="NexTä¸»é¢˜é…ç½®"></a>NexTä¸»é¢˜é…ç½®</h2><ul>
<li><a href="http://theme-next.iissnan.com/getting-started.html#validate-next-theme" target="_blank" rel="external">Nextä¸»é¢˜</a></li>
</ul>
<p>Hexoä¸»é¢˜éå¸¸å¤šï¼Œå¯ä»¥å‚è€ƒ<a href="https://hexo.io/themes/" target="_blank" rel="external">ä¸°å¯Œå¤šå½©çš„Hexoä¸»é¢˜</a>ï¼Œæœ¬æ–‡é€‰Nextä¸ºä¸»é¢˜ï¼ŒNexTä¸»é¢˜æ˜¯ä¸€å¥—ç®€çº¦çš„ä¸»é¢˜ï¼Œè®¾ç½®å®Œæˆä¹‹åï¼Œå°±åƒæˆ‘çš„åšå®¢ç°åœ¨çš„æ ·å­ï¼Œé‡Œé¢æœ‰è¯¦ç»†çš„é…ç½®è¯´æ˜ï¼Œè¿™é‡Œå°±ä¸é‡è¿°äº†ã€‚</p>
<p>é…ç½®åè°ƒè¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo clean</div><div class="line">hexo g</div><div class="line">hexo s --debug</div></pre></td></tr></table></figure>
<p>ç¡®è®¤æ— è¯¯åä¸Šä¼ ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo clean</div><div class="line">hexo g</div><div class="line">hexo d</div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šå› ä¸ºhexoæœ‰ä¸¥æ ¼çš„æ ¼å¼è§„èŒƒï¼Œæ‰€ä»¥å»ºè®®é…ç½®æ—¶åŠæ—¶è°ƒè¯•é¡µé¢ã€‚</p>
</blockquote>
<h2 id="ä¼˜åŒ–ç¯èŠ‚"><a href="#ä¼˜åŒ–ç¯èŠ‚" class="headerlink" title="ä¼˜åŒ–ç¯èŠ‚"></a>ä¼˜åŒ–ç¯èŠ‚</h2><ul>
<li>åŸŸåè®¾ç½®</li>
<li><a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="external">fork me on github</a></li>
<li>é…ç½®SSH key</li>
<li>ç»™åšæ–‡æ·»åŠ tagå’Œåˆ†ç±»(<a href="http://theme-next.iissnan.com/theme-settings.html#author-sites" target="_blank" rel="external">ä¸»é¢˜</a>)</li>
<li>æ‰‹åŠ¨å®ç°æŸæ¡åšæ–‡ç½®é¡¶</li>
</ul>
<h3 id="åŸŸåè®¾ç½®"><a href="#åŸŸåè®¾ç½®" class="headerlink" title="åŸŸåè®¾ç½®"></a>åŸŸåè®¾ç½®</h3><p>å¤§å®¶å¯ä»¥çœ‹ï¼š<a href="http://wingjay.com/2015/12/07/%E5%A6%82%E4%BD%95%E5%9C%A8%E4%B8%80%E5%A4%A9%E4%B9%8B%E5%86%85%E6%90%AD%E5%BB%BA%E4%BB%A5%E4%BD%A0%E8%87%AA%E5%B7%B1%E5%90%8D%E5%AD%97%E4%B8%BA%E5%9F%9F%E5%90%8D%E7%9A%84%E5%BE%88cool%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">æ›¿æ¢è‡ªå·±çš„åŸŸå</a> ,é‡Œé¢è®²è¿°çš„è¯¦ç»†ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨<a href="https://wanwang.aliyun.com/" target="_blank" rel="external">ä¸‡ç½‘</a>ä¹°äº†åŸŸåä»¥åç›´æ¥åœ¨é‡Œé¢é…ç½®ï¼Œ<a href="http://www.sudu.cn/service/detail/1/0/0/3/10036.html" target="_blank" rel="external">è¿™é‡Œ</a>åªæ˜¯å‚è€ƒç”¨çš„ã€‚</p>
</blockquote>
<h3 id="å…¶å®ƒå››æ¡"><a href="#å…¶å®ƒå››æ¡" class="headerlink" title="å…¶å®ƒå››æ¡"></a>å…¶å®ƒå››æ¡</h3><p>å¤§å®¶å¯ä»¥çœ‹ï¼š<a href="https://madongqiang2201.github.io/2016/07/21/Mac%E4%B8%8BHexo%EF%BC%8Bgithub-pages%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/#more" target="_blank" rel="external">å…¶ä»–é—æ¼çš„ç‚¹</a> </p>
<blockquote>
<p>æ³¨æ„ï¼šé…ç½®åè¿›å…¥è°ƒè¯•æ¨¡å¼æµ‹è¯•ä¸€ä¸‹ï¼Œè¿™æ ·é”™äº†å°±å¯ä»¥é©¬ä¸Šæ›´æ­£ã€‚</p>
</blockquote>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p> cd åˆ°ä»“åº“æ‰€åœ¨æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">hexo init       <span class="comment">//åœ¨æŒ‡å®šç›®å½•æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œä¼šå°†å½“å‰ç›®å½•åˆå§‹åŒ–ä¸ºhexoç«™ç‚¹ï¼Œç”Ÿæˆhexoç«™ç‚¹æ‰€éœ€çš„ä¸€åˆ‡æ–‡ä»¶</span></div><div class="line">hexo <span class="keyword">new</span> â€œmy <span class="keyword">new</span> blog titleâ€   <span class="comment">//æ–°å»ºä¸€ç¯‡æ–‡ç« ã€‚å¦‚æœæ²¡æœ‰è®¾ç½® layout çš„è¯ï¼Œé»˜è®¤ä½¿ç”¨ _config.yml ä¸­çš„ default_layout å‚æ•°ä»£æ›¿ã€‚å¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œè¯·ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚</span></div><div class="line">hexo s --debug    <span class="comment">// å¯åŠ¨æœ¬åœ°hexo æœåŠ¡å™¨ï¼Œé»˜è®¤localhost:4000å¯ä»¥è®¿é—®</span></div><div class="line">hexo clean      <span class="comment">// æ¸…é™¤ç¼“å­˜ï¼Œå¦‚æœå¯¹æœ¬åœ°æ–‡ä»¶åšäº†ä¿®æ”¹ï¼ŒåŒæ­¥åˆ°è¿œç¨‹éªŒè¯ä¿®æ”¹çš„æ•ˆæœä¹‹å‰ï¼Œå…ˆcleanï¼Œæ¸…é™¤ç¼“å­˜</span></div><div class="line">hexo generate   <span class="comment">// å¯ä»¥ç®€å†™æˆhexo g æ ¹æ®markdownæ–‡ä»¶ç”Ÿæˆé™æ€æ–‡ä»¶</span></div><div class="line">hexo deploy     <span class="comment">// æˆ–è€…ç®€å†™æˆhexo d å°†æœ¬åœ°ä¿®æ”¹ï¼Œéƒ¨ç½²åˆ°è¿œç«¯</span></div><div class="line">hexo version    <span class="comment">// æ˜¾ç¤ºhexoç‰ˆæœ¬</span></div></pre></td></tr></table></figure>
<h2 id="æ¨èæ–‡ç« "><a href="#æ¨èæ–‡ç« " class="headerlink" title="æ¨èæ–‡ç« "></a><span id="jump">æ¨èæ–‡ç« </span></h2><ul>
<li><a href="https://madongqiang2201.github.io/2016/07/21/Mac%E4%B8%8BHexo%EF%BC%8Bgithub-pages%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/#more" target="_blank" rel="external">Macæ­å»ºHexoåšå®¢åŠNexTä¸»é¢˜é…ç½®ä¼˜åŒ–</a></li>
<li><a href="http://wingjay.com/2015/12/07/%E5%A6%82%E4%BD%95%E5%9C%A8%E4%B8%80%E5%A4%A9%E4%B9%8B%E5%86%85%E6%90%AD%E5%BB%BA%E4%BB%A5%E4%BD%A0%E8%87%AA%E5%B7%B1%E5%90%8D%E5%AD%97%E4%B8%BA%E5%9F%9F%E5%90%8D%E7%9A%84%E5%BE%88cool%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">å¦‚ä½•åœ¨ä¸€å¤©ä¹‹å†…æ­å»ºä»¥ä½ è‡ªå·±åå­—ä¸ºåŸŸååˆå…·å¤‡coolå±æ€§çš„ä¸ªäººåšå®¢</a></li>
<li><a href="http://www.jianshu.com/p/1cd86fac2585" target="_blank" rel="external">ä½¿ç”¨GitHubå’ŒHexoæ­å»ºå…è´¹é™æ€Blog</a></li>
<li><a href="http://www.arao.me/2015/hexo-next-theme-optimize-base/#ä¸ºä½ çš„hexoç½‘ç«™NexTä¸»é¢˜å¢åŠ ç•™è¨€é¡µ" target="_blank" rel="external">åŠ¨åŠ¨æ‰‹æŒ‡ï¼ŒNexTä¸»é¢˜ä¸Hexoæ›´æ­å“¦ï¼ˆåŸºç¡€ç¯‡ï¼‰</a></li>
</ul>
<h2 id="æ‰€é‡é—®é¢˜"><a href="#æ‰€é‡é—®é¢˜" class="headerlink" title="æ‰€é‡é—®é¢˜"></a><span id="ask">æ‰€é‡é—®é¢˜</span></h2><ul>
<li>æŒ‰ç…§æ­¥éª¤æ¥ï¼ŒåŠæ—¶è°ƒè¯•ï¼Œç¡®è®¤æ— è¯¯åå†æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚æœ‰ä¸€å¥è¯è¯´çš„å¥½ï¼Œæ­¥å­è·¨å¤§äº†å®¹æ˜“æ‰¯ç€è›‹ã€‚</li>
<li>å»ºè®®å°†åŸºç¡€çš„å…ˆæ­å»ºå‡ºæ¥ï¼Œä¸»é¢˜ç»†èŠ‚å¯ä»¥ä¹‹åå†æ…¢æ…¢é…ç½®ã€‚</li>
<li>ç¼–è¾‘ç«™ç‚¹<code>_config.yml</code>æ–‡ä»¶å…¶ä¸­çš„<code>deploy</code>èŠ‚ç‚¹æ—¶ï¼Œæ³¨æ„<code>repo</code>çš„å€¼ã€‚</li>
<li>æ›¿æ¢åŸŸåæ—¶ï¼š<ul>
<li>ç›´æ¥åœ¨ä¸‡ç»´ç½‘è®¾ç½®è§£ææ–¹å¼ï¼›</li>
<li>åœ¨ä»“åº“Settingçš„è¦è®¾ç½®è·³è½¬é“¾æ¥ï¼›</li>
<li>CNAMEä¼šè¢«è¦†ç›–ï¼Œå®‰è£…CNAMEå·¥å…·<a href="https://github.com/leecrossley/hexo-generator-cname" target="_blank" rel="external">hexo-generator-cname</a></li>
</ul>
</li>
<li>ä¸ºåšå®¢æ–‡ç« æ·»åŠ é˜…è¯»é‡ç»Ÿè®¡åŠŸèƒ½ï¼Œå‚ç…§<a href="http://www.tuicool.com/articles/EbquI3B" target="_blank" rel="external">è¿™é‡Œ</a>ï¼Œæ³¨æ„é¡ºåºï¼Œæˆ‘åœ¨å…¶ä¸­è¢«å‘è¿‡ã€‚</li>
<li>è®¾ç½®ç½‘ç«™å›¾æ ‡æ—¶ï¼Œå°±æ˜¯ä¸Šä¼ â€œ.icoâ€æ–‡ä»¶æ—¶ï¼Œç¡®è®¤æˆåŠŸåæµè§ˆå™¨ä¼šæœ‰ç¼“å­˜ï¼Œæ˜¾ç¤ºä¸å‡ºæ¥ï¼Œå…³æ‰æµè§ˆå™¨æ¸…é™¤ç¼“å­˜å°±å¥½äº†ï¼ˆå¯æ”¾åœ¨æœ€åï¼‰ã€‚</li>
<li>è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜æµ‹è¯•æ—¶æ²¡äº‹ï¼Œä¸Šä¼ åä¼šæœ‰å»¶è¿Ÿï¼Œç­‰ç­‰å°±å¥½äº†ï¼ˆæœ¬äººè¿™æ ·ï¼‰ã€‚</li>
<li>è®¾ç½®æœç´¢æ ï¼Œè¿›å…¥<a href="https://swiftype.com/users/sign_up" target="_blank" rel="external">swiftypeå®˜ç½‘</a>ï¼Œæ³¨å†Œä¸ä¸Šï¼Œåº”è¯¥æ”¶è´¹äº†- -.</li>
<li>è®¾ç½®ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥æ—¶ï¼Œ<code>social:</code><strong>ä¸‹é¢å­—æ®µå‰è¦æœ‰ä¸¤ä¸ªç©ºæ ¼ï¼Œåˆ‡è®°</strong>ã€‚</li>
</ul>
<h2 id="ç›¸å…³ç½‘å€"><a href="#ç›¸å…³ç½‘å€" class="headerlink" title="ç›¸å…³ç½‘å€"></a>ç›¸å…³ç½‘å€</h2><p><a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">NexT</a>ã€<a href="http://youlookwhat.duoshuo.com/admin/" target="_blank" rel="external">å¤šè¯´</a>ã€<a href="http://tongji.baidu.com/web/welcome/login" target="_blank" rel="external">ç™¾åº¦ç»Ÿè®¡</a>ã€<a href="https://leancloud.cn/app.html#/general" target="_blank" rel="external">leancloud</a>ã€<a href="https://account.aliyun.com/login/login.htm?oauth_callback=https%3A%2F%2Fhome.console.aliyun.com%2Fnew#/" target="_blank" rel="external">é˜¿é‡Œäº‘</a>ã€<a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="external">fork me</a>ã€<a href="http://www.ico.la/" target="_blank" rel="external">icoåˆ¶ä½œ</a></p>
<h2 id="è”ç³»æˆ‘"><a href="#è”ç³»æˆ‘" class="headerlink" title="è”ç³»æˆ‘"></a><span id="here">è”ç³»æˆ‘</span></h2><ul>
<li><a href="http://www.jianshu.com/users/e43c6e979831/latest_articles" target="_blank" rel="external">æˆ‘çš„ç®€ä¹¦</a></li>
<li><a href="http://blog.csdn.net/jingbin_" target="_blank" rel="external">æˆ‘çš„CSDN</a></li>
<li><a href="https://github.com/youlookwhat" target="_blank" rel="external">æˆ‘çš„ä¸ªäººåšå®¢</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»è¿‡ä¸€å¤©çš„è¾›è‹¦ä½œæˆ˜ï¼Œæ€»ç®—åŸºç¡€çš„ä¸œè¥¿å‡ºæ¥äº†ã€‚è¸©äº†å¤ªå¤šçš„å‘ï¼Œç»¼åˆæˆ‘è¸©å‘çš„ç»è¿‡ï¼Œæ˜ç™½åˆ°ï¼Œé€‰å¥½ä¸€ç¯‡å¼•å¯¼æ–‡å¾ˆé‡è¦ï¼æœ‰äº›æ­¥éª¤ä¸è¦å…ˆåšäº†ï¼Œä¸ç„¶åé¢ä¼šæŠŠä½ å‘çš„å¾ˆæƒ¨..&lt;/p&gt;
&lt;h2 id=&quot;å¼•&quot;&gt;&lt;a href=&quot;#å¼•&quot; class=&quot;headerlink&quot; title=&quot;å¼•&quot;&gt;&lt;/a&gt;å¼•&lt;/h2&gt;&lt;p&gt;å¾ˆå¤šåšå®¢éƒ½å·²ç»è¯¦ç»†è®²è¿°äº†Hexoåšå®¢æ¡†æ¶çš„å¥½å¤„å’Œæ€ä¹ˆåšï¼Œä¸‹é¢çš„&lt;a href=&quot;#jump&quot;&gt;æ¨èæ–‡ç« &lt;/a&gt;é‡Œä¼šç»™å‡ºé“¾æ¥ã€‚ä½†æœ‰äº›è¿‡äºå¤æ‚ï¼Œè®©åˆæ¬¡é…ç½®çš„äººæœ‰ç‚¹é›¨é‡Œé›¾é‡Œï¼›æœ‰äº›åˆå¤ªç®€å•ï¼Œå‡ºäº†é—®é¢˜å°±ä¼šä¸çŸ¥é“æ€ä¹ˆå›äº‹ã€‚ä¸‹é¢æ˜¯è‡ªå·±çš„æ­å»ºè®°å½•ï¼ŒåŠ&lt;a href=&quot;#ask&quot;&gt;æ‰€é‡é—®é¢˜çš„è§£å†³&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ­¤æ„Ÿè°¢&lt;a href=&quot;https://madongqiang2201.github.io/&quot;&gt;å°é©¬å“¥Mark&lt;/a&gt;å’Œ &lt;a href=&quot;http://wingjay.com/&quot;&gt;wingjay&lt;/a&gt;å…ˆå‰åˆ†äº«çš„æ•™ç¨‹ï¼Œæœ‰äº›æ®µè½æ˜¯ä»ä½ ä»¬é‡Œæ¬è¿è¿‡æ¥çš„ï¼Œå¸Œæœ›åšä¸»è§è°…ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;Okï¼Œç°åœ¨å¼€å§‹ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://jingbin.me/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://jingbin.me/tags/hexo/"/>
    
  </entry>
  
</feed>
